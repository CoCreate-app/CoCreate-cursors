/*! For license information please see contenteditable-chunk.js.LICENSE.txt */
(this.webpackChunkCoCreate_cursors=this.webpackChunkCoCreate_cursors||[]).push([["contenteditable-chunk"],{"../CoCreate-contenteditable/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../CoCreate-crdt/src/index.js\"));\n\nvar _cursors = _interopRequireDefault(__webpack_require__(/*! @cocreate/cursors */ \"./src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../CoCreate-form/src/index.js\"));\n\nvar _crudClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud-client */ \"../CoCreate-crud-client/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CoCreateContenteditable {\n  constructor() {\n    this._elements = [];\n\n    this._init();\n\n    this.from = 0;\n    this.to = 0;\n  }\n\n  _init(container) {\n    let mainContainer = container || document;\n\n    if (!mainContainer.querySelector) {\n      return;\n    }\n\n    var elements = mainContainer.querySelectorAll(\"[contentEditable]:not([contentEditable='false'])\");\n\n    if (elements.length == 0 && mainContainer != document && mainContainer.hasAttribute('contentEditable')) {\n      elements = [mainContainer];\n    }\n\n    for (var el of elements) {\n      if (_observer.default.getInitialized(el)) {\n        continue;\n      }\n\n      _observer.default.setInitialized(el);\n\n      this._initElement(el);\n\n      this._elements.push(el);\n    }\n  }\n\n  _initElement(el) {\n    if (!el.matches(\"[contentEditable]:not([contentEditable='false'])\")) {\n      return;\n    }\n\n    this._initElementEvents(el);\n\n    if (_form.default && _form.default.checkID(el)) {\n      el.innerHTML = \"\";\n\n      this._createYDoc(el);\n    } else {\n      let self = this;\n      el.addEventListener('set-document_id', function (e) {\n        self._createYDoc(this);\n      });\n    }\n  }\n\n  _initElementEvents(el) {\n    var _this = this;\n\n    el.addEventListener('select', function (e) {\n      console.log('selection', e);\n    });\n    el.addEventListener('input', function (e) {\n      // console.log(e.inputType, e);\n      let selection_info = _this.getSelectionInfo(this);\n\n      let nowstart = selection_info.start;\n      let nowend = nowstart + 1;\n      let content_text = \"\";\n      let isUpdate = true;\n\n      switch (e.inputType) {\n        case 'deleteContentBackward':\n          nowstart--;\n          nowend--;\n          break;\n\n        case 'deleteContentForward':\n          break;\n\n        case 'insertLineBreak':\n          content_text = \"\\n\";\n          nowend++;\n          break;\n\n        case 'insertText':\n          content_text = e.data || \"\";\n          break;\n\n        case 'deleteByCut':\n          nowend = nowstart;\n          break;\n\n        default:\n          isUpdate = false;\n          break;\n      }\n\n      if (!isUpdate) return;\n      /*let character_deleted = selection_info.start - selection_info.end;\n      \t/*CoCreateCursors.recalculate_local_cursors(this,character_deleted)\n      \t*/\n      //console.log(\" recalculations \",el.textContent,\" [-] \",content_text)\n\n      if (selection_info.is_selected) {\n        _this.sendChangeData(this, \"\", selection_info.start, selection_info.end);\n\n        if (content_text.length > 0) {\n          _this.sendChangeData(this, content_text, nowstart, nowend);\n        }\n\n        _this.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n      } else {\n        _this.sendChangeData(this, content_text, nowstart, nowend);\n      }\n    });\n    el.addEventListener('paste', function (e) {\n      let content_text = event.clipboardData.getData('Text'); // let caret = _this._getCaretPosition(this);\n\n      let selection_info = _this.getSelectionInfo(this);\n\n      if (selection_info.start !== selection_info.end) {\n        _this.sendChangeData(this, \"\", selection_info.start, selection_info.end, false);\n      }\n\n      _this.sendChangeData(this, content_text, selection_info.start, selection_info.end, false);\n\n      event.preventDefault();\n    }); ////  Caret and Selection Status Changes\n\n    el.addEventListener('keyup', function (e) {\n      let arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(e.keyCode) != -1) {\n        _this.sendPosition(this);\n      }\n    });\n    el.addEventListener('keydown', function (e) {\n      let arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(e.keyCode) != -1) {\n        _this.sendPosition(this);\n      }\n\n      const pos = _this._getCaretPosition(el);\n\n      _this.setSelectionInfo(el, pos.from != pos.to, pos.from, pos.to);\n    });\n    el.addEventListener('click', function (e) {\n      _this.sendPosition(this);\n    });\n    el.addEventListener('blur', function (e) {\n      _this.sendPosition(el, true);\n    });\n    el.addEventListener('cocreate-crdt-update', function (e) {\n      var info = event.detail;\n      var pos = 0;\n      var flag = true;\n      info.forEach(item => {\n        if (item.retain) {\n          flag = true;\n          pos = item.retain;\n        }\n\n        if (item.insert || item.delete) {\n          if (flag == false) pos = 0;\n          flag = false;\n\n          if (item.insert) {\n            _this.insertData(this, item.insert, pos);\n          } else if (item.delete) {\n            _this.deleteData(this, pos, pos + item.delete);\n          }\n        }\n      });\n    });\n  }\n\n  sendChangeData(element, content, start, end, isRemove = true) {\n    if (!this._checkConetentEditable(element)) return;\n\n    const {\n      collection,\n      document_id,\n      name\n    } = _crudClient.default.getAttr(element);\n\n    if (!document_id) {\n      _form.default.request({\n        element: element,\n        nameAttr: \"name\"\n      });\n\n      element.setAttribute('data-document_id', 'pending');\n      return;\n    }\n\n    if (document_id === 'pending') {\n      return;\n    }\n\n    if (!_crudClient.default.isSaveAttr(element)) {\n      return;\n    }\n\n    if (content.length > 0) {\n      if (isRemove) {\n        this.deleteData(element, start, start + content.length);\n      }\n\n      _crdt.default.insertText({\n        collection,\n        document_id,\n        name,\n        value: content,\n        position: start,\n        attributes: null\n      });\n    } else {\n      if (isRemove) {\n        this.insertData(element, \" \".repeat(end - start), start);\n      }\n\n      _crdt.default.deleteText({\n        collection,\n        document_id,\n        name,\n        position: start,\n        length: end - start\n      });\n    }\n\n    let character_count = content.length > 0 ? content.length : -1;\n\n    _cursors.default.recalculate_local_cursors(element, character_count);\n  }\n\n  setSelectionInfo(e, isSelect, start, end) {\n    e.setAttribute(\"is_selected\", isSelect);\n    e.setAttribute(\"selection_start\", start);\n    e.setAttribute(\"selection_end\", end);\n    this.sendPosition(e);\n  }\n\n  getSelectionInfo(e) {\n    return {\n      is_selected: e.getAttribute(\"is_selected\") === 'true' ? true : false,\n      start: parseInt(e.getAttribute(\"selection_start\")),\n      end: parseInt(e.getAttribute(\"selection_end\"))\n    };\n  }\n\n  sendPosition(el, isClear) {\n    if (!this._checkConetentEditable(el)) return;\n\n    var curRange = this._getCaretPosition(el);\n\n    var _json = this._getElementInfo(el);\n\n    if (curRange && !isClear) {\n      _json['startPosition'] = curRange.from;\n      _json['endPositon'] = curRange.to; //commented by jean mendoza\n      //CoCreate.crdt.sendPosition(_json);\n\n      const id = this._generateElementID(el);\n\n      _crdt.default.setPositionYJS(id, _json['startPosition'], _json['endPositon']);\n    } else {\n      var _id = this._generateElementID(el);\n\n      _crdt.default.setCursorNull(_id);\n    }\n  } //////\n\n\n  _getElementInfo(el) {\n    const {\n      collection,\n      document_id,\n      name\n    } = _crudClient.default.getAttr(el);\n\n    return {\n      collection: collection || '_',\n      document_id: document_id || '_',\n      name: name || '_'\n    };\n  }\n\n  _createYDoc(el) {\n    const {\n      collection,\n      document_id,\n      name\n    } = _crudClient.default.getAttr(el);\n\n    const status = _crdt.default.init({\n      collection,\n      document_id,\n      name,\n      element: el\n    }); // this.setInitValue(el);\n    // this.elements.push(el)\n\n  }\n\n  _generateElementID(el) {\n    var _eInfo = this._getElementInfo(el);\n\n    return _crdt.default.generateID(config.organization_Id, _eInfo.collection, _eInfo.document_id, _eInfo.name);\n  }\n\n  _checkConetentEditable(el) {\n    if (!el.isContentEditable) return false;\n\n    for (var _el of this._elements) {\n      if (el.isSameNode(_el)) return true;\n    }\n\n    this._initElement(el);\n\n    this._elements.push(el);\n\n    return true;\n  }\n\n  _getCaretPosition(el) {\n    if (document.activeElement !== el) return null;\n    var selection = document.getSelection();\n    if (!selection.rangeCount) return null;\n\n    var _range = selection.getRangeAt(0);\n\n    var selected = _range.toString().length;\n\n    var range = _range.cloneRange();\n\n    range.selectNodeContents(el);\n    range.setEnd(_range.endContainer, _range.endOffset);\n    var to = range.toString().length;\n    var from = selected ? to - selected : to;\n    return {\n      from: from,\n      to: to\n    };\n  }\n\n  _setCaretPosition(el, from, to) {\n    if (document.activeElement !== el) return;\n    var selection = document.getSelection();\n\n    var range = this._cloneRangeByPosition(el, from, to);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n\n  _cloneRangeByPosition(el, from, to, range) {\n    if (!range) {\n      range = document.createRange();\n      range.selectNode(el);\n      range.setStart(el, 0);\n      this.from = from;\n      this.to = to;\n    }\n\n    if (el && (this.from > 0 || this.to > 0)) {\n      if (el.nodeType === Node.TEXT_NODE) {\n        if (el.textContent.length < this.from) this.from -= el.textContent.length;else if (this.from > 0) {\n          range.setStart(el, this.from);\n          this.from = 0;\n        }\n        if (el.textContent.length < this.to) this.to -= el.textContent.length;else if (this.to > 0) {\n          range.setEnd(el, this.to);\n          this.to = 0;\n        }\n      } else {\n        for (var lp = 0; lp < el.childNodes.length; lp++) {\n          range = this._cloneRangeByPosition(el.childNodes[lp], this.from, this.to, range);\n          if (this.from === 0 && this.to === 0) break;\n        }\n      }\n    }\n\n    return range;\n  }\n\n  _getPositionFromRange(el, range) {\n    var _range = document.createRange();\n\n    _range.selectNodeContents(el);\n\n    var from = 0,\n        to = 0;\n\n    _range.setEnd(range.endContainer, range.endOffset);\n\n    to = _range.toString().length;\n\n    _range.setEnd(range.startContainer, range.startOffset);\n\n    from = _range.toString().length;\n    return {\n      from: from,\n      to: to\n    };\n  }\n\n  insertData(el, content, position) {\n    if (!content || content === '') return;\n    var selection = window.getSelection();\n\n    var curCaret = this._getCaretPosition(el);\n\n    var range = this._cloneRangeByPosition(el, position, position);\n\n    var tmp = document.createElement(\"div\");\n    var frag = document.createDocumentFragment(),\n        node;\n    tmp.innerHTML = content;\n\n    while (node = tmp.firstChild) {\n      frag.appendChild(node);\n    }\n\n    range.insertNode(frag);\n\n    if (!curCaret) {\n      selection.addRange(range);\n      selection.removeRange(range);\n      return;\n    }\n\n    var pos = this.selectionProcessing(content, curCaret.from, curCaret.to, position, position);\n\n    this._setCaretPosition(el, pos.start, pos.end);\n\n    this.sendPosition(el);\n  }\n\n  deleteData(el, start, end) {\n    var content_length = end - start;\n    if (!content_length) return;\n\n    var curCaret = this._getCaretPosition(el);\n\n    var selection = window.getSelection();\n\n    var range = this._cloneRangeByPosition(el, start, end);\n\n    if (range) range.deleteContents();\n\n    if (!curCaret) {\n      selection.removeRange(range);\n      return;\n    } // if (!curCaret) return;\n\n\n    var pos = this.selectionProcessing(\"\", curCaret.from, curCaret.to, start, end);\n\n    this._setCaretPosition(el, pos.start, pos.end);\n\n    this.sendPosition(el);\n  }\n\n  selectionProcessing(content, prev_start, prev_end, start, end) {\n    if (prev_start >= start) {\n      if (content == \"\") {\n        prev_start -= end - start;\n        prev_end -= end - start;\n        prev_start = prev_start < start ? start : prev_start;\n      } else {\n        prev_start += content.length;\n        prev_end += content.length;\n      }\n    }\n\n    {\n      if (content == \"\" && prev_end >= start) {\n        prev_end = prev_end >= end ? prev_end - (end - start) : start;\n      }\n    }\n    return {\n      start: prev_start,\n      end: prev_end\n    };\n  }\n\n}\n\nvar g_CoCreateContentEditable = new CoCreateContenteditable(); // CoCreateInit.register('CoCreateText', g_CoCreateContentEditable, g_CoCreateContentEditable._init);\n\n_observer.default.init({\n  name: 'CoCreateContentEditableInit',\n  observe: ['subtree', 'childList'],\n  include: '[contenteditable][data-collection][data-document_id][name]',\n  callback: function (mutation) {\n    g_CoCreateContentEditable._init(mutation.target);\n  }\n});\n\nvar _default = g_CoCreateContentEditable;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5jdXJzb3JzLy4uL0NvQ3JlYXRlLWNvbnRlbnRlZGl0YWJsZS9zcmMvaW5kZXguanM/YjMzYiJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNvbnRlbnRlZGl0YWJsZSIsImNvbnN0cnVjdG9yIiwiX2VsZW1lbnRzIiwiX2luaXQiLCJmcm9tIiwidG8iLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiaGFzQXR0cmlidXRlIiwiZWwiLCJDb0NyZWF0ZU9ic2VydmVyIiwiZ2V0SW5pdGlhbGl6ZWQiLCJzZXRJbml0aWFsaXplZCIsIl9pbml0RWxlbWVudCIsInB1c2giLCJtYXRjaGVzIiwiX2luaXRFbGVtZW50RXZlbnRzIiwiQ29DcmVhdGVGb3JtIiwiY2hlY2tJRCIsImlubmVySFRNTCIsIl9jcmVhdGVZRG9jIiwic2VsZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiX3RoaXMiLCJjb25zb2xlIiwibG9nIiwic2VsZWN0aW9uX2luZm8iLCJnZXRTZWxlY3Rpb25JbmZvIiwibm93c3RhcnQiLCJzdGFydCIsIm5vd2VuZCIsImNvbnRlbnRfdGV4dCIsImlzVXBkYXRlIiwiaW5wdXRUeXBlIiwiZGF0YSIsImlzX3NlbGVjdGVkIiwic2VuZENoYW5nZURhdGEiLCJlbmQiLCJzZXRTZWxlY3Rpb25JbmZvIiwic2VsZWN0aW9uU3RhcnQiLCJldmVudCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwicHJldmVudERlZmF1bHQiLCJhcnJvd3MiLCJpbmRleE9mIiwia2V5Q29kZSIsInNlbmRQb3NpdGlvbiIsInBvcyIsIl9nZXRDYXJldFBvc2l0aW9uIiwiaW5mbyIsImRldGFpbCIsImZsYWciLCJmb3JFYWNoIiwiaXRlbSIsInJldGFpbiIsImluc2VydCIsImRlbGV0ZSIsImluc2VydERhdGEiLCJkZWxldGVEYXRhIiwiZWxlbWVudCIsImNvbnRlbnQiLCJpc1JlbW92ZSIsIl9jaGVja0NvbmV0ZW50RWRpdGFibGUiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJuYW1lIiwiY3J1ZCIsImdldEF0dHIiLCJyZXF1ZXN0IiwibmFtZUF0dHIiLCJzZXRBdHRyaWJ1dGUiLCJpc1NhdmVBdHRyIiwiY3JkdCIsImluc2VydFRleHQiLCJ2YWx1ZSIsInBvc2l0aW9uIiwiYXR0cmlidXRlcyIsInJlcGVhdCIsImRlbGV0ZVRleHQiLCJjaGFyYWN0ZXJfY291bnQiLCJjdXJzb3JzIiwicmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyIsImlzU2VsZWN0IiwiZ2V0QXR0cmlidXRlIiwicGFyc2VJbnQiLCJpc0NsZWFyIiwiY3VyUmFuZ2UiLCJfanNvbiIsIl9nZXRFbGVtZW50SW5mbyIsImlkIiwiX2dlbmVyYXRlRWxlbWVudElEIiwic2V0UG9zaXRpb25ZSlMiLCJfaWQiLCJzZXRDdXJzb3JOdWxsIiwic3RhdHVzIiwiaW5pdCIsIl9lSW5mbyIsImdlbmVyYXRlSUQiLCJjb25maWciLCJvcmdhbml6YXRpb25fSWQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsIl9lbCIsImlzU2FtZU5vZGUiLCJhY3RpdmVFbGVtZW50Iiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsIl9yYW5nZSIsImdldFJhbmdlQXQiLCJzZWxlY3RlZCIsInRvU3RyaW5nIiwicmFuZ2UiLCJjbG9uZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwic2V0RW5kIiwiZW5kQ29udGFpbmVyIiwiZW5kT2Zmc2V0IiwiX3NldENhcmV0UG9zaXRpb24iLCJfY2xvbmVSYW5nZUJ5UG9zaXRpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZSIsInNldFN0YXJ0Iiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwidGV4dENvbnRlbnQiLCJscCIsImNoaWxkTm9kZXMiLCJfZ2V0UG9zaXRpb25Gcm9tUmFuZ2UiLCJzdGFydENvbnRhaW5lciIsInN0YXJ0T2Zmc2V0Iiwid2luZG93IiwiY3VyQ2FyZXQiLCJ0bXAiLCJjcmVhdGVFbGVtZW50IiwiZnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJub2RlIiwiZmlyc3RDaGlsZCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0Tm9kZSIsInJlbW92ZVJhbmdlIiwic2VsZWN0aW9uUHJvY2Vzc2luZyIsImNvbnRlbnRfbGVuZ3RoIiwiZGVsZXRlQ29udGVudHMiLCJwcmV2X3N0YXJ0IiwicHJldl9lbmQiLCJnX0NvQ3JlYXRlQ29udGVudEVkaXRhYmxlIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwidGFyZ2V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSx1QkFBTixDQUE4QjtBQUM3QkMsYUFBVyxHQUFFO0FBQ1osU0FBS0MsU0FBTCxHQUFpQixFQUFqQjs7QUFDQSxTQUFLQyxLQUFMOztBQUNBLFNBQUtDLElBQUwsR0FBWSxDQUFaO0FBQ0EsU0FBS0MsRUFBTCxHQUFVLENBQVY7QUFDQTs7QUFFREYsT0FBSyxDQUFDRyxTQUFELEVBQVc7QUFDZixRQUFJQyxhQUFhLEdBQUdELFNBQVMsSUFBSUUsUUFBakM7O0FBQ0EsUUFBSSxDQUFDRCxhQUFhLENBQUNFLGFBQW5CLEVBQWtDO0FBQ2pDO0FBQ0E7O0FBQ0QsUUFBSUMsUUFBUSxHQUFHSCxhQUFhLENBQUNJLGdCQUFkLENBQStCLGtEQUEvQixDQUFmOztBQUVBLFFBQUlELFFBQVEsQ0FBQ0UsTUFBVCxJQUFtQixDQUFuQixJQUF3QkwsYUFBYSxJQUFJQyxRQUF6QyxJQUFxREQsYUFBYSxDQUFDTSxZQUFkLENBQTJCLGlCQUEzQixDQUF6RCxFQUF3RztBQUN2R0gsY0FBUSxHQUFHLENBQUNILGFBQUQsQ0FBWDtBQUNBOztBQUVELFNBQUksSUFBSU8sRUFBUixJQUFjSixRQUFkLEVBQXVC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LElBQUl2SCxLQUFsQixFQUF5QjtBQUN4QixVQUFJZ0MsT0FBTyxJQUFJLEVBQWYsRUFBbUI7QUFDbEJ1RixrQkFBVSxJQUFJL0csR0FBRyxHQUFHUixLQUFwQjtBQUNBd0gsZ0JBQVEsSUFBSWhILEdBQUcsR0FBR1IsS0FBbEI7QUFDQXVILGtCQUFVLEdBQUdBLFVBQVUsR0FBR3ZILEtBQWIsR0FBcUJBLEtBQXJCLEdBQTZCdUgsVUFBMUM7QUFDQSxPQUpELE1BSU87QUFDTkEsa0JBQVUsSUFBSXZGLE9BQU8sQ0FBQ3ZELE1BQXRCO0FBQ0ErSSxnQkFBUSxJQUFJeEYsT0FBTyxDQUFDdkQsTUFBcEI7QUFDQTtBQUNEOztBQUFDO0FBQ0QsVUFBSXVELE9BQU8sSUFBSSxFQUFYLElBQWlCd0YsUUFBUSxJQUFJeEgsS0FBakMsRUFBd0M7QUFDdkN3SCxnQkFBUSxHQUFJQSxRQUFRLElBQUloSCxHQUFiLEdBQW9CZ0gsUUFBUSxJQUFJaEgsR0FBRyxHQUFHUixLQUFWLENBQTVCLEdBQStDQSxLQUExRDtBQUNBO0FBQ0Q7QUFDRCxXQUFPO0FBQUNBLFdBQUssRUFBRXVILFVBQVI7QUFBb0IvRyxTQUFHLEVBQUVnSDtBQUF6QixLQUFQO0FBQ0E7O0FBOWE0Qjs7QUFrYjlCLElBQUlDLHlCQUF5QixHQUFHLElBQUk1Six1QkFBSixFQUFoQyxDLENBRUE7O0FBRUFlLGtCQUFpQnVGLElBQWpCLENBQXNCO0FBQ3JCOUIsTUFBSSxFQUFFLDZCQURlO0FBRXJCcUYsU0FBTyxFQUFFLENBQUMsU0FBRCxFQUFZLFdBQVosQ0FGWTtBQUdyQkMsU0FBTyxFQUFFLDREQUhZO0FBSXJCQyxVQUFRLEVBQUUsVUFBU0MsUUFBVCxFQUFtQjtBQUM1QkosNkJBQXlCLENBQUN6SixLQUExQixDQUFnQzZKLFFBQVEsQ0FBQ0MsTUFBekM7QUFDQTtBQU5vQixDQUF0Qjs7ZUFTZUwseUIiLCJmaWxlIjoiLi4vQ29DcmVhdGUtY29udGVudGVkaXRhYmxlL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZU9ic2VydmVyIGZyb20gJ0Bjb2NyZWF0ZS9vYnNlcnZlcidcbmltcG9ydCBjcmR0IGZyb20gJ0Bjb2NyZWF0ZS9jcmR0J1xuaW1wb3J0IGN1cnNvcnMgZnJvbSAnQGNvY3JlYXRlL2N1cnNvcnMnXG5pbXBvcnQgQ29DcmVhdGVGb3JtIGZyb20gJ0Bjb2NyZWF0ZS9mb3JtJ1xuaW1wb3J0IGNydWQgZnJvbSAnQGNvY3JlYXRlL2NydWQtY2xpZW50J1xuXG5jbGFzcyBDb0NyZWF0ZUNvbnRlbnRlZGl0YWJsZSB7XG5cdGNvbnN0cnVjdG9yKCl7XG5cdFx0dGhpcy5fZWxlbWVudHMgPSBbXTtcblx0XHR0aGlzLl9pbml0KCk7XG5cdFx0dGhpcy5mcm9tID0gMDtcblx0XHR0aGlzLnRvID0gMDtcblx0fVxuXHRcblx0X2luaXQoY29udGFpbmVyKXtcblx0XHRsZXQgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XHRpZiAoIW1haW5Db250YWluZXIucXVlcnlTZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgZWxlbWVudHMgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbY29udGVudEVkaXRhYmxlXTpub3QoW2NvbnRlbnRFZGl0YWJsZT0nZmFsc2UnXSlcIik7XG5cdFx0XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwICYmIG1haW5Db250YWluZXIgIT0gZG9jdW1lbnQgJiYgbWFpbkNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpKSB7XG5cdFx0XHRlbGVtZW50cyA9IFttYWluQ29udGFpbmVyXTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9yKHZhciBlbCBvZiBlbGVtZW50cyl7XG5cdFx0XHRpZiAoQ29DcmVhdGVPYnNlcnZlci5nZXRJbml0aWFsaXplZChlbCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRDb0NyZWF0ZU9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsKVxuXHRcdFx0dGhpcy5faW5pdEVsZW1lbnQoZWwpO1xuXHRcdFx0dGhpcy5fZWxlbWVudHMucHVzaChlbCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRfaW5pdEVsZW1lbnQoZWwpe1xuXHRcdFxuXHRcdGlmICghZWwubWF0Y2hlcyhcIltjb250ZW50RWRpdGFibGVdOm5vdChbY29udGVudEVkaXRhYmxlPSdmYWxzZSddKVwiKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9pbml0RWxlbWVudEV2ZW50cyhlbCk7XG5cdFx0aWYgKENvQ3JlYXRlRm9ybSAmJiBDb0NyZWF0ZUZvcm0uY2hlY2tJRChlbCkpIHtcblx0XHRcdGVsLmlubmVySFRNTCA9IFwiXCI7XG5cdFx0XHR0aGlzLl9jcmVhdGVZRG9jKGVsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFxuXHRcdFx0bGV0IHNlbGYgID0gdGhpcztcblx0XHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3NldC1kb2N1bWVudF9pZCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0c2VsZi5fY3JlYXRlWURvYyh0aGlzKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRcblx0X2luaXRFbGVtZW50RXZlbnRzKGVsKXtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdzZWxlY3Rpb24nLCBlKVxuXHRcdH0pO1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coZS5pbnB1dFR5cGUsIGUpO1xuXHRcdFx0bGV0IHNlbGVjdGlvbl9pbmZvID0gX3RoaXMuZ2V0U2VsZWN0aW9uSW5mbyh0aGlzKTtcblx0XHRcdGxldCBub3dzdGFydCA9IHNlbGVjdGlvbl9pbmZvLnN0YXJ0O1xuXHRcdFx0bGV0IG5vd2VuZCA9IG5vd3N0YXJ0ICsgMTtcblx0XHRcdGxldCBjb250ZW50X3RleHQgPSBcIlwiO1xuXHRcdFx0bGV0IGlzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0c3dpdGNoIChlLmlucHV0VHlwZSkge1xuXHRcdFx0XHRjYXNlICdkZWxldGVDb250ZW50QmFja3dhcmQnOlxuXHRcdFx0XHRcdG5vd3N0YXJ0IC0tO1xuXHRcdFx0XHRcdG5vd2VuZCAtLTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnZGVsZXRlQ29udGVudEZvcndhcmQnOlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdpbnNlcnRMaW5lQnJlYWsnOlxuXHRcdFx0XHRcdGNvbnRlbnRfdGV4dCA9IFwiXFxuXCI7IFxuXHRcdFx0XHRcdG5vd2VuZCArKztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnaW5zZXJ0VGV4dCc6XG5cdFx0XHRcdFx0Y29udGVudF90ZXh0ID0gZS5kYXRhIHx8IFwiXCI7IFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdkZWxldGVCeUN1dCc6XG5cdFx0XHRcdFx0bm93ZW5kID0gbm93c3RhcnQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aXNVcGRhdGUgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKCFpc1VwZGF0ZSkgcmV0dXJuO1xuXHRcdFxuXHRcdC8qbGV0IGNoYXJhY3Rlcl9kZWxldGVkID0gc2VsZWN0aW9uX2luZm8uc3RhcnQgLSBzZWxlY3Rpb25faW5mby5lbmQ7XG5cdFx0XHQvKkNvQ3JlYXRlQ3Vyc29ycy5yZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKHRoaXMsY2hhcmFjdGVyX2RlbGV0ZWQpXG5cdFx0XHQqL1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcIiByZWNhbGN1bGF0aW9ucyBcIixlbC50ZXh0Q29udGVudCxcIiBbLV0gXCIsY29udGVudF90ZXh0KVxuXHRcdFx0aWYgKHNlbGVjdGlvbl9pbmZvLmlzX3NlbGVjdGVkKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRfdGhpcy5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBcIlwiLCBzZWxlY3Rpb25faW5mby5zdGFydCwgc2VsZWN0aW9uX2luZm8uZW5kKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChjb250ZW50X3RleHQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdF90aGlzLnNlbmRDaGFuZ2VEYXRhKHRoaXMsIGNvbnRlbnRfdGV4dCwgbm93c3RhcnQsIG5vd2VuZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0X3RoaXMuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCBmYWxzZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfdGhpcy5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBjb250ZW50X3RleHQsIG5vd3N0YXJ0LCBub3dlbmQpO1x0XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0XG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRsZXQgY29udGVudF90ZXh0ID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XG5cdFx0XHQvLyBsZXQgY2FyZXQgPSBfdGhpcy5fZ2V0Q2FyZXRQb3NpdGlvbih0aGlzKTtcblx0XHRcdGxldCBzZWxlY3Rpb25faW5mbyA9IF90aGlzLmdldFNlbGVjdGlvbkluZm8odGhpcyk7XG5cdFx0XHRcblx0XHRcdGlmIChzZWxlY3Rpb25faW5mby5zdGFydCAhPT0gc2VsZWN0aW9uX2luZm8uZW5kKSB7XG5cdFx0XHRcdF90aGlzLnNlbmRDaGFuZ2VEYXRhKHRoaXMsIFwiXCIsIHNlbGVjdGlvbl9pbmZvLnN0YXJ0LCBzZWxlY3Rpb25faW5mby5lbmQsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0X3RoaXMuc2VuZENoYW5nZURhdGEodGhpcywgY29udGVudF90ZXh0LCBzZWxlY3Rpb25faW5mby5zdGFydCwgc2VsZWN0aW9uX2luZm8uZW5kLCBmYWxzZSk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8vLyAgQ2FyZXQgYW5kIFNlbGVjdGlvbiBTdGF0dXMgQ2hhbmdlc1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0bGV0IGFycm93cyA9IFszNywzOCwzOSw0MF07XG5cdFx0XHRpZihhcnJvd3MuaW5kZXhPZihlLmtleUNvZGUpIT0tMSl7XG5cdFx0XHRcdF90aGlzLnNlbmRQb3NpdGlvbih0aGlzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0bGV0IGFycm93cyA9IFszNywzOCwzOSw0MF07XG5cdFx0XHRpZihhcnJvd3MuaW5kZXhPZihlLmtleUNvZGUpIT0tMSl7XG5cdFx0XHRcdF90aGlzLnNlbmRQb3NpdGlvbih0aGlzKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBvcyA9IF90aGlzLl9nZXRDYXJldFBvc2l0aW9uKGVsKTtcblx0XHRcdF90aGlzLnNldFNlbGVjdGlvbkluZm8oZWwsIHBvcy5mcm9tICE9IHBvcy50bywgcG9zLmZyb20sIHBvcy50bylcblx0XHR9KTtcblx0XHRcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdCBfdGhpcy5zZW5kUG9zaXRpb24odGhpcyk7XG5cdFx0fSk7XG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdF90aGlzLnNlbmRQb3NpdGlvbihlbCwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCdjb2NyZWF0ZS1jcmR0LXVwZGF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBpbmZvID0gZXZlbnQuZGV0YWlsO1xuXHRcdFx0dmFyIHBvcyA9IDA7XG5cdFx0XHR2YXIgZmxhZyA9IHRydWU7XG5cdFxuXHRcdFx0aW5mby5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKGl0ZW0ucmV0YWluKSB7XG5cdFx0XHRcdGZsYWcgPSB0cnVlO1xuXHRcdFx0XHRwb3MgPSBpdGVtLnJldGFpbjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGl0ZW0uaW5zZXJ0IHx8IGl0ZW0uZGVsZXRlKSB7XG5cdFx0XHRcdGlmIChmbGFnID09IGZhbHNlKSBwb3MgPSAwO1xuXHRcdFx0XHRmbGFnID0gZmFsc2U7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoaXRlbS5pbnNlcnQpIHtcblx0XHRcdFx0XHRfdGhpcy5pbnNlcnREYXRhKHRoaXMsIGl0ZW0uaW5zZXJ0LCBwb3MpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGl0ZW0uZGVsZXRlKSB7XG5cdFx0XHRcdFx0X3RoaXMuZGVsZXRlRGF0YSh0aGlzLCBwb3MsIHBvcyArIGl0ZW0uZGVsZXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHRzZW5kQ2hhbmdlRGF0YShlbGVtZW50LCBjb250ZW50LCBzdGFydCwgZW5kLCBpc1JlbW92ZSA9IHRydWUpIHtcblx0XHRcblx0XHRpZighdGhpcy5fY2hlY2tDb25ldGVudEVkaXRhYmxlKGVsZW1lbnQpKSByZXR1cm47XG5cdFx0XG5cdFx0Y29uc3QgeyBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSB9ID0gY3J1ZC5nZXRBdHRyKGVsZW1lbnQpXG5cdFx0XG5cdFx0aWYgKCFkb2N1bWVudF9pZCkge1xuXHRcdFx0Q29DcmVhdGVGb3JtLnJlcXVlc3Qoe2VsZW1lbnQ6IGVsZW1lbnQsIG5hbWVBdHRyOiBcIm5hbWVcIn0pXG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsICdwZW5kaW5nJyk7XG5cdFx0XHRyZXR1cm4gO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZG9jdW1lbnRfaWQgPT09ICdwZW5kaW5nJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoIWNydWQuaXNTYXZlQXR0cihlbGVtZW50KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0aWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuXHRcdFx0aWYgKGlzUmVtb3ZlKSB7XG5cdFx0XHRcdHRoaXMuZGVsZXRlRGF0YShlbGVtZW50LCBzdGFydCwgc3RhcnQgKyBjb250ZW50Lmxlbmd0aCk7XG5cdFx0XHR9XG5cdFx0XHRjcmR0Lmluc2VydFRleHQoe1xuXHRcdFx0XHRjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSxcblx0XHRcdFx0dmFsdWU6IGNvbnRlbnQsXG5cdFx0XHRcdHBvc2l0aW9uOiBzdGFydCxcblx0XHRcdFx0YXR0cmlidXRlczogbnVsbFxuXHRcdFx0fSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0XG5cdFx0XHRpZiAoaXNSZW1vdmUpIHtcblx0XHRcdFx0dGhpcy5pbnNlcnREYXRhKGVsZW1lbnQsIFwiIFwiLnJlcGVhdChlbmQgLSBzdGFydCksIHN0YXJ0KVxuXHRcdFx0fVxuXHRcdFx0Y3JkdC5kZWxldGVUZXh0KHtcblx0XHRcdFx0Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUsXG5cdFx0XHRcdHBvc2l0aW9uOiBzdGFydCxcblx0XHRcdFx0bGVuZ3RoOiBlbmQgLSBzdGFydCxcblx0XHRcdH0pIFxuXHRcdH1cblx0XG5cdFx0bGV0IGNoYXJhY3Rlcl9jb3VudCA9IGNvbnRlbnQubGVuZ3RoID4gMCA/IGNvbnRlbnQubGVuZ3RoIDogLTE7XG5cdFx0Y3Vyc29ycy5yZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKGVsZW1lbnQsY2hhcmFjdGVyX2NvdW50KTtcblx0XG5cdH1cblx0XG5cdHNldFNlbGVjdGlvbkluZm8oZSwgaXNTZWxlY3QsIHN0YXJ0LCBlbmQpIHtcblx0XHRcdGUuc2V0QXR0cmlidXRlKFwiaXNfc2VsZWN0ZWRcIiwgaXNTZWxlY3QpO1xuXHRcdFx0ZS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fc3RhcnRcIiwgc3RhcnQpO1xuXHRcdFx0ZS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fZW5kXCIsIGVuZCk7XG5cdFx0XHR0aGlzLnNlbmRQb3NpdGlvbihlKTtcblx0fVxuXHRcblx0Z2V0U2VsZWN0aW9uSW5mbyhlKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzX3NlbGVjdGVkOiAoZS5nZXRBdHRyaWJ1dGUoXCJpc19zZWxlY3RlZFwiKSA9PT0gJ3RydWUnKSA/IHRydWUgOiBmYWxzZSxcblx0XHRcdHN0YXJ0OiBwYXJzZUludChlLmdldEF0dHJpYnV0ZShcInNlbGVjdGlvbl9zdGFydFwiKSksXG5cdFx0XHRlbmQ6cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fZW5kXCIpKVxuXHRcdH1cblx0fVxuXG5cdHNlbmRQb3NpdGlvbihlbCwgaXNDbGVhcil7XG5cdFx0aWYoIXRoaXMuX2NoZWNrQ29uZXRlbnRFZGl0YWJsZShlbCkpIHJldHVybjtcblx0XHRcblx0XHR2YXIgY3VyUmFuZ2UgPSB0aGlzLl9nZXRDYXJldFBvc2l0aW9uKGVsKTtcblx0XHR2YXIgX2pzb24gPSB0aGlzLl9nZXRFbGVtZW50SW5mbyhlbCk7XG5cdFx0XG5cdFx0aWYoY3VyUmFuZ2UgJiYgIWlzQ2xlYXIpe1xuXHRcdFx0X2pzb25bJ3N0YXJ0UG9zaXRpb24nXSA9IGN1clJhbmdlLmZyb207XG5cdFx0XHRfanNvblsnZW5kUG9zaXRvbiddID0gY3VyUmFuZ2UudG87XG5cdFx0XHQvL2NvbW1lbnRlZCBieSBqZWFuIG1lbmRvemFcblx0XHRcdC8vQ29DcmVhdGUuY3JkdC5zZW5kUG9zaXRpb24oX2pzb24pO1xuXHRcdFx0Y29uc3QgaWQgPSB0aGlzLl9nZW5lcmF0ZUVsZW1lbnRJRChlbClcblx0XHRcdGNyZHQuc2V0UG9zaXRpb25ZSlMoaWQsIF9qc29uWydzdGFydFBvc2l0aW9uJ10sIF9qc29uWydlbmRQb3NpdG9uJ10pO1xuXHRcdH1lbHNle1xuXHRcdFx0dmFyIF9pZCA9IHRoaXMuX2dlbmVyYXRlRWxlbWVudElEKGVsKTtcblx0XHRcdGNyZHQuc2V0Q3Vyc29yTnVsbChfaWQpO1xuXHRcdH1cblx0fVxuXHQvLy8vLy9cblx0XG5cdF9nZXRFbGVtZW50SW5mbyhlbCl7XG5cdFx0Y29uc3QgeyBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSB9ID0gY3J1ZC5nZXRBdHRyKGVsKVxuXHRcdHJldHVybiB7XG5cdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uIHx8ICdfJyxcblx0XHRcdGRvY3VtZW50X2lkOiBkb2N1bWVudF9pZCB8fCAnXycsXG5cdFx0XHRuYW1lOiBuYW1lIHx8ICdfJ1xuXHRcdH07XG5cdH1cblx0XG5cdF9jcmVhdGVZRG9jKGVsKXtcblx0XHRjb25zdCB7IGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lIH0gPSBjcnVkLmdldEF0dHIoZWwpXG5cdFx0Y29uc3Qgc3RhdHVzID0gY3JkdC5pbml0KHtcblx0XHRcdGNvbGxlY3Rpb24sXG5cdFx0XHRkb2N1bWVudF9pZCxcblx0XHRcdG5hbWUsXG5cdFx0XHRlbGVtZW50OiBlbCxcblx0XHR9KVxuXG5cdFx0Ly8gdGhpcy5zZXRJbml0VmFsdWUoZWwpO1xuXHRcdC8vIHRoaXMuZWxlbWVudHMucHVzaChlbClcblx0fVxuXHRcblx0X2dlbmVyYXRlRWxlbWVudElEKGVsKSB7XG5cdFx0dmFyIF9lSW5mbyA9IHRoaXMuX2dldEVsZW1lbnRJbmZvKGVsKTtcblx0XHRyZXR1cm4gY3JkdC5nZW5lcmF0ZUlEKGNvbmZpZy5vcmdhbml6YXRpb25fSWQsIF9lSW5mby5jb2xsZWN0aW9uLCBfZUluZm8uZG9jdW1lbnRfaWQsIF9lSW5mby5uYW1lKTtcblx0fVxuXG5cdF9jaGVja0NvbmV0ZW50RWRpdGFibGUoZWwpe1xuXHRcdGlmKCFlbC5pc0NvbnRlbnRFZGl0YWJsZSkgcmV0dXJuIGZhbHNlO1xuXHRcdFxuXHRcdGZvcih2YXIgX2VsIG9mIHRoaXMuX2VsZW1lbnRzKXtcblx0XHRcdGlmKGVsLmlzU2FtZU5vZGUoX2VsKSkgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuX2luaXRFbGVtZW50KGVsKTtcblx0XHR0aGlzLl9lbGVtZW50cy5wdXNoKGVsKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdF9nZXRDYXJldFBvc2l0aW9uKGVsKXtcblx0XHRpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbCkgcmV0dXJuIG51bGw7XG5cdFx0XG5cdFx0dmFyIHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xuXHRcdGlmKCFzZWxlY3Rpb24ucmFuZ2VDb3VudCkgcmV0dXJuIG51bGw7XG5cdFx0XG5cdFx0dmFyIF9yYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuXHRcdHZhciBzZWxlY3RlZCA9IF9yYW5nZS50b1N0cmluZygpLmxlbmd0aDtcblx0XHR2YXIgcmFuZ2UgPSBfcmFuZ2UuY2xvbmVSYW5nZSgpO1xuXHRcdHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG5cdFx0cmFuZ2Uuc2V0RW5kKF9yYW5nZS5lbmRDb250YWluZXIsIF9yYW5nZS5lbmRPZmZzZXQpO1xuXHRcdFxuXHRcdHZhciB0byA9IHJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuXHRcdHZhciBmcm9tID0gc2VsZWN0ZWQgPyB0byAtIHNlbGVjdGVkOiB0bztcblxuXHRcdHJldHVybiB7ZnJvbTogZnJvbSwgdG86IHRvfTtcblx0fVxuXHRcblx0X3NldENhcmV0UG9zaXRpb24oZWwsIGZyb20sIHRvKXtcblx0XHRpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbCkgcmV0dXJuO1xuXHRcdFxuXHRcdHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcblx0XHR2YXIgcmFuZ2UgPSB0aGlzLl9jbG9uZVJhbmdlQnlQb3NpdGlvbihlbCwgZnJvbSwgdG8pO1xuXHRcdHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXHR9XG5cdFxuXHRfY2xvbmVSYW5nZUJ5UG9zaXRpb24oZWwsIGZyb20sIHRvLCByYW5nZSl7XG5cdFx0aWYoIXJhbmdlKXtcblx0XHRcdHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblx0XHRcdHJhbmdlLnNlbGVjdE5vZGUoZWwpO1xuXHRcdFx0cmFuZ2Uuc2V0U3RhcnQoZWwsIDApO1xuXHRcdFx0dGhpcy5mcm9tID0gZnJvbTtcblx0XHRcdHRoaXMudG8gPSB0bztcblx0XHR9XG5cdFx0XG5cdFx0aWYoZWwgJiYgKHRoaXMuZnJvbSA+IDAgfHwgdGhpcy50byA+IDApKXtcblx0XHRcdGlmKGVsLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSl7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZihlbC50ZXh0Q29udGVudC5sZW5ndGggPCB0aGlzLmZyb20pIHRoaXMuZnJvbSAtPSBlbC50ZXh0Q29udGVudC5sZW5ndGg7XG5cdFx0XHRcdGVsc2UgaWYodGhpcy5mcm9tID4gMCl7XG5cdFx0XHRcdFx0cmFuZ2Uuc2V0U3RhcnQoZWwsIHRoaXMuZnJvbSk7XG5cdFx0XHRcdFx0dGhpcy5mcm9tID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0aWYoZWwudGV4dENvbnRlbnQubGVuZ3RoIDwgdGhpcy50bykgdGhpcy50byAtPSBlbC50ZXh0Q29udGVudC5sZW5ndGg7XG5cdFx0XHRcdGVsc2UgaWYodGhpcy50byA+IDApe1xuXHRcdFx0XHRcdHJhbmdlLnNldEVuZChlbCwgdGhpcy50byk7XG5cdFx0XHRcdFx0dGhpcy50byA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1lbHNle1xuXHRcdFx0XHRmb3IodmFyIGxwID0gMDsgbHAgPCBlbC5jaGlsZE5vZGVzLmxlbmd0aDsgbHArKyl7XG5cdFx0XHRcdFx0cmFuZ2UgPSB0aGlzLl9jbG9uZVJhbmdlQnlQb3NpdGlvbihlbC5jaGlsZE5vZGVzW2xwXSwgdGhpcy5mcm9tLCB0aGlzLnRvLCByYW5nZSk7XG5cdFx0XHRcdFx0aWYodGhpcy5mcm9tID09PSAwICYmIHRoaXMudG8gPT09IDApIGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiByYW5nZTtcblx0fVxuXHRcblx0X2dldFBvc2l0aW9uRnJvbVJhbmdlKGVsLCByYW5nZSl7XG5cdFx0dmFyIF9yYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cdFx0X3JhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG5cdFx0XG5cdFx0dmFyIGZyb20gPSAwLCB0byA9IDA7XG5cdFx0XG5cdFx0X3JhbmdlLnNldEVuZChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7XG5cdFx0dG8gPSBfcmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG5cdFx0XG5cdFx0X3JhbmdlLnNldEVuZChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xuXHRcdGZyb20gPSBfcmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG5cdFx0XG5cdFx0cmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogdG99O1xuXHR9XG5cdFxuXHRcblx0XG5cdGluc2VydERhdGEoZWwsIGNvbnRlbnQsIHBvc2l0aW9uKXtcblx0XHRpZighY29udGVudCB8fCBjb250ZW50ID09PSAnJykgcmV0dXJuO1xuXHRcdFxuXHRcdHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0dmFyIGN1ckNhcmV0ID0gdGhpcy5fZ2V0Q2FyZXRQb3NpdGlvbihlbCk7XG5cblx0XHR2YXIgcmFuZ2UgPSB0aGlzLl9jbG9uZVJhbmdlQnlQb3NpdGlvbihlbCwgcG9zaXRpb24sIHBvc2l0aW9uKTtcblx0XHR2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHR2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbm9kZTtcblx0XHRcblx0XHR0bXAuaW5uZXJIVE1MID0gY29udGVudDtcblx0XHRcblx0XHR3aGlsZSAoIChub2RlID0gdG1wLmZpcnN0Q2hpbGQpICkge1xuXHRcdFx0ZnJhZy5hcHBlbmRDaGlsZChub2RlKTtcblx0XHR9XG5cdFx0cmFuZ2UuaW5zZXJ0Tm9kZShmcmFnKTtcblxuXHRcdGlmICghY3VyQ2FyZXQpIHtcblx0XHRcdHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG5cdFx0XHRzZWxlY3Rpb24ucmVtb3ZlUmFuZ2UocmFuZ2UpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHR2YXIgcG9zID0gdGhpcy5zZWxlY3Rpb25Qcm9jZXNzaW5nKGNvbnRlbnQsIGN1ckNhcmV0LmZyb20sIGN1ckNhcmV0LnRvLCBwb3NpdGlvbiwgcG9zaXRpb24pO1xuXHRcdFxuXHRcdHRoaXMuX3NldENhcmV0UG9zaXRpb24oZWwsIHBvcy5zdGFydCwgcG9zLmVuZCk7XG5cdFx0XG5cdFx0dGhpcy5zZW5kUG9zaXRpb24oZWwpO1xuXHR9XG5cdFxuXHRkZWxldGVEYXRhKGVsLCBzdGFydCwgZW5kKXtcblx0XHR2YXIgY29udGVudF9sZW5ndGggPSBlbmQgLSBzdGFydDtcblx0XHRpZighY29udGVudF9sZW5ndGgpIHJldHVybjtcblx0XHR2YXIgY3VyQ2FyZXQgPSB0aGlzLl9nZXRDYXJldFBvc2l0aW9uKGVsKTtcblx0XHR2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdHZhciByYW5nZSA9IHRoaXMuX2Nsb25lUmFuZ2VCeVBvc2l0aW9uKGVsLCBzdGFydCwgZW5kKTtcblx0XHRpZihyYW5nZSkgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcblx0XHRcblx0XHRcblx0XHRpZiAoIWN1ckNhcmV0KSB7XG5cdFx0XHRzZWxlY3Rpb24ucmVtb3ZlUmFuZ2UocmFuZ2UpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGlmICghY3VyQ2FyZXQpIHJldHVybjtcblx0XHR2YXIgcG9zID0gdGhpcy5zZWxlY3Rpb25Qcm9jZXNzaW5nKFwiXCIsIGN1ckNhcmV0LmZyb20sIGN1ckNhcmV0LnRvLCBzdGFydCwgZW5kKTtcblx0XHRcblx0XHR0aGlzLl9zZXRDYXJldFBvc2l0aW9uKGVsLCBwb3Muc3RhcnQsIHBvcy5lbmQpO1xuXHRcdHRoaXMuc2VuZFBvc2l0aW9uKGVsKTtcblx0fVxuXHRcblx0c2VsZWN0aW9uUHJvY2Vzc2luZyhjb250ZW50LCBwcmV2X3N0YXJ0LCBwcmV2X2VuZCwgc3RhcnQsIGVuZCkge1xuXHRcdGlmIChwcmV2X3N0YXJ0ID49IHN0YXJ0KSB7XG5cdFx0XHRpZiAoY29udGVudCA9PSBcIlwiKSB7XG5cdFx0XHRcdHByZXZfc3RhcnQgLT0gZW5kIC0gc3RhcnQ7XG5cdFx0XHRcdHByZXZfZW5kIC09IGVuZCAtIHN0YXJ0O1xuXHRcdFx0XHRwcmV2X3N0YXJ0ID0gcHJldl9zdGFydCA8IHN0YXJ0ID8gc3RhcnQgOiBwcmV2X3N0YXJ0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJldl9zdGFydCArPSBjb250ZW50Lmxlbmd0aDtcblx0XHRcdFx0cHJldl9lbmQgKz0gY29udGVudC5sZW5ndGg7XG5cdFx0XHR9XG5cdFx0fSB7XG5cdFx0XHRpZiAoY29udGVudCA9PSBcIlwiICYmIHByZXZfZW5kID49IHN0YXJ0KSB7XG5cdFx0XHRcdHByZXZfZW5kID0gKHByZXZfZW5kID49IGVuZCkgPyBwcmV2X2VuZCAtIChlbmQgLSBzdGFydCkgOiBzdGFydFxuXHRcdFx0fSBcblx0XHR9XG5cdFx0cmV0dXJuIHtzdGFydDogcHJldl9zdGFydCwgZW5kOiBwcmV2X2VuZH07XG5cdH1cblxufVxuXG52YXIgZ19Db0NyZWF0ZUNvbnRlbnRFZGl0YWJsZSA9IG5ldyBDb0NyZWF0ZUNvbnRlbnRlZGl0YWJsZSgpO1xuXG4vLyBDb0NyZWF0ZUluaXQucmVnaXN0ZXIoJ0NvQ3JlYXRlVGV4dCcsIGdfQ29DcmVhdGVDb250ZW50RWRpdGFibGUsIGdfQ29DcmVhdGVDb250ZW50RWRpdGFibGUuX2luaXQpO1xuXG5Db0NyZWF0ZU9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlQ29udGVudEVkaXRhYmxlSW5pdCcsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbY29udGVudGVkaXRhYmxlXVtkYXRhLWNvbGxlY3Rpb25dW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdGdfQ29DcmVhdGVDb250ZW50RWRpdGFibGUuX2luaXQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZ19Db0NyZWF0ZUNvbnRlbnRFZGl0YWJsZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-contenteditable/src/index.js\n")}}]);