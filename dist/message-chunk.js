/*! For license information please see message-chunk.js.LICENSE.txt */
(this.webpackChunkCoCreate_cursors=this.webpackChunkCoCreate_cursors||[]).push([["message-chunk"],{"../CoCreate-message/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _socketClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket-client */ \"../CoCreate-socket-client/src/index.js\"));\n\nvar _commonFun = __webpack_require__(/*! @cocreate/socket-client/src/common-fun.js */ \"../CoCreate-socket-client/src/common-fun.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet message_socket = new _socketClient.default('ws');\nconst CoCreateMessage = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n  CoCreate.message.send({\n     namespace: '',\n     room: '',\n     broadcast: true/false,\n     broadcast_sender: true/false\n     \n     rooms: [r1, r2],\n     emit: {\n       message': 'nice game',\n       data': 'let's play a game ....'\n     }\n   })\n  */\n  send: function (data) {\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!data || !data.emit) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...data\n    };\n    /** socket parameters **/\n    // if (data['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (data['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(data.namespace, data.room);\n    this.socket.send('sendMessage', request_data, room);\n  },\n  receive: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  createSocket: function (host, namespace) {\n    if (!this.socket) return;\n\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  listen: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  listenAsync: function (eventname) {\n    this.socket.listenAsync(eventname);\n  }\n};\nCoCreateMessage.setSocket(message_socket);\nCoCreateMessage.createSocket(window.config.host ? window.config.host : 'server.cocreate.app', window.config.organization_Id);\nvar _default = CoCreateMessage;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5jdXJzb3JzLy4uL0NvQ3JlYXRlLW1lc3NhZ2Uvc3JjL2luZGV4LmpzP2RlZWYiXSwibmFtZXMiOlsibWVzc2FnZV9zb2NrZXQiLCJDb0NyZWF0ZVNvY2tldCIsIkNvQ3JlYXRlTWVzc2FnZSIsInNvY2tldCIsInNldFNvY2tldCIsInNlbmQiLCJkYXRhIiwicmVxdWVzdF9kYXRhIiwiZW1pdCIsInJvb20iLCJuYW1lc3BhY2UiLCJyZWNlaXZlIiwibWVzc2FnZSIsImZ1biIsImxpc3RlbiIsImNyZWF0ZVNvY2tldCIsImhvc3QiLCJjcmVhdGUiLCJzZXRHbG9iYWxTY29wZSIsImxpc3RlbkFzeW5jIiwiZXZlbnRuYW1lIiwid2luZG93IiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxjQUFjLEdBQUcsSUFBSUMscUJBQUosQ0FBbUIsSUFBbkIsQ0FBckI7QUFFQSxNQUFNQyxlQUFlLEdBQUc7QUFDdEJDLFFBQU0sRUFBRSxJQURjO0FBRXRCQyxXQUFTLEVBQUUsVUFBU0QsTUFBVCxFQUFpQjtBQUMxQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDRCxHQUpxQjs7QUFLdkI7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFRSxNQUFJLEVBQUUsVUFBU0MsSUFBVCxFQUFlO0FBQ25CLFFBQUlDLFlBQVksR0FBRyxpQ0FBbkI7O0FBRUEsUUFBSSxDQUFDRCxJQUFELElBQVMsQ0FBQ0EsSUFBSSxDQUFDRSxJQUFuQixFQUF5QjtBQUN2QjtBQUNEOztBQUNERCxnQkFBWSxHQUFHLEVBQUMsR0FBR0EsWUFBSjtBQUFrQixTQUFHRDtBQUFyQixLQUFmO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsVUFBTUcsSUFBSSxHQUFHLHFDQUFxQkgsSUFBSSxDQUFDSSxTQUExQixFQUFxQ0osSUFBSSxDQUFDRyxJQUExQyxDQUFiO0FBRUEsU0FBS04sTUFBTCxDQUFZRSxJQUFaLENBQWlCLGFBQWpCLEVBQWdDRSxZQUFoQyxFQUE4Q0UsSUFBOUM7QUFDRCxHQXJDcUI7QUF1Q3RCRSxTQUFPLEVBQUUsVUFBU0MsT0FBVCxFQUFrQkMsR0FBbEIsRUFBdUI7QUFDOUIsU0FBS1YsTUFBTCxDQUFZVyxNQUFaLENBQW1CRixPQUFuQixFQUE0QkMsR0FBNUI7QUFDRCxHQXpDcUI7QUEyQ3RCRSxjQUFZLEVBQUUsVUFBU0MsSUFBVCxFQUFlTixTQUFmLEVBQTBCO0FBQ3RDLFFBQUksQ0FBQyxLQUFLUCxNQUFWLEVBQWtCOztBQUVwQixRQUFJTyxTQUFKLEVBQWU7QUFDZCxXQUFLUCxNQUFMLENBQVljLE1BQVosQ0FBbUI7QUFDbEJQLGlCQUFTLEVBQUVBLFNBRE87QUFFbEJELFlBQUksRUFBRSxJQUZZO0FBR2xCTyxZQUFJLEVBQUVBO0FBSFksT0FBbkI7QUFLQSxXQUFLYixNQUFMLENBQVllLGNBQVosQ0FBMkJSLFNBQTNCO0FBQ0EsS0FQRCxNQU9PO0FBQ04sV0FBS1AsTUFBTCxDQUFZYyxNQUFaLENBQW1CO0FBQ2xCUCxpQkFBUyxFQUFFLElBRE87QUFFbEJELFlBQUksRUFBRSxJQUZZO0FBR2xCTyxZQUFJLEVBQUVBO0FBSFksT0FBbkI7QUFLQTtBQUNELEdBNURzQjtBQThEdkJGLFFBQU0sRUFBRSxVQUFTRixPQUFULEVBQWtCQyxHQUFsQixFQUF1QjtBQUM1QixTQUFLVixNQUFMLENBQVlXLE1BQVosQ0FBbUJGLE9BQW5CLEVBQTRCQyxHQUE1QjtBQUNELEdBaEVxQjtBQWtFdEJNLGFBQVcsRUFBRSxVQUFTQyxTQUFULEVBQW9CO0FBQy9CLFNBQUtqQixNQUFMLENBQVlnQixXQUFaLENBQXdCQyxTQUF4QjtBQUNEO0FBcEVxQixDQUF4QjtBQXVFQWxCLGVBQWUsQ0FBQ0UsU0FBaEIsQ0FBMEJKLGNBQTFCO0FBQ0FFLGVBQWUsQ0FBQ2EsWUFBaEIsQ0FBNkJNLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjTixJQUFkLEdBQXFCSyxNQUFNLENBQUNDLE1BQVAsQ0FBY04sSUFBbkMsR0FBMEMscUJBQXZFLEVBQThGSyxNQUFNLENBQUNDLE1BQVAsQ0FBY0MsZUFBNUc7ZUFFZXJCLGUiLCJmaWxlIjoiLi4vQ29DcmVhdGUtbWVzc2FnZS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVTb2NrZXQgZnJvbSBcIkBjb2NyZWF0ZS9zb2NrZXQtY2xpZW50XCJcbmltcG9ydCB7Z2V0Q29tbW9uUGFyYW1zLCBnZXRDb21tb25QYXJhbXNFeHRlbmQsIGdlbmVyYXRlU29ja2V0Q2xpZW50fSBmcm9tIFwiQGNvY3JlYXRlL3NvY2tldC1jbGllbnQvc3JjL2NvbW1vbi1mdW4uanNcIlxuXG5sZXQgbWVzc2FnZV9zb2NrZXQgPSBuZXcgQ29DcmVhdGVTb2NrZXQoJ3dzJyk7XG5cbmNvbnN0IENvQ3JlYXRlTWVzc2FnZSA9IHtcbiAgc29ja2V0OiBudWxsLFxuICBzZXRTb2NrZXQ6IGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICB9LFxuIC8qXG4gQ29DcmVhdGUubWVzc2FnZS5zZW5kKHtcbiAgICBuYW1lc3BhY2U6ICcnLFxuICAgIHJvb206ICcnLFxuICAgIGJyb2FkY2FzdDogdHJ1ZS9mYWxzZSxcbiAgICBicm9hZGNhc3Rfc2VuZGVyOiB0cnVlL2ZhbHNlXG4gICAgXG4gICAgcm9vbXM6IFtyMSwgcjJdLFxuICAgIGVtaXQ6IHtcbiAgICAgIG1lc3NhZ2UnOiAnbmljZSBnYW1lJyxcbiAgICAgIGRhdGEnOiAnbGV0J3MgcGxheSBhIGdhbWUgLi4uLidcbiAgICB9XG4gIH0pXG4gKi9cbiAgc2VuZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKTtcbiAgICBcbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEuZW1pdCkge1xuICAgICAgcmV0dXJuOyAgICAgXG4gICAgfVxuICAgIHJlcXVlc3RfZGF0YSA9IHsuLi5yZXF1ZXN0X2RhdGEsIC4uLmRhdGF9XG4gICAgXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIC8vIGlmIChkYXRhWydicm9hZGNhc3QnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKGRhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIGNvbnN0IHJvb20gPSBnZW5lcmF0ZVNvY2tldENsaWVudChkYXRhLm5hbWVzcGFjZSwgZGF0YS5yb29tKTtcbiAgICBcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdzZW5kTWVzc2FnZScsIHJlcXVlc3RfZGF0YSwgcm9vbSlcbiAgfSxcbiBcbiAgcmVjZWl2ZTogZnVuY3Rpb24obWVzc2FnZSwgZnVuKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKG1lc3NhZ2UsIGZ1bik7XG4gIH0sXG4gXG4gXHRjcmVhdGVTb2NrZXQ6IGZ1bmN0aW9uKGhvc3QsIG5hbWVzcGFjZSkge1xuIFx0ICBpZiAoIXRoaXMuc29ja2V0KSByZXR1cm47XG4gXHQgIFxuXHRcdGlmIChuYW1lc3BhY2UpIHtcblx0XHRcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlLCBcblx0XHRcdFx0cm9vbTogbnVsbCxcblx0XHRcdFx0aG9zdDogaG9zdFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnNvY2tldC5zZXRHbG9iYWxTY29wZShuYW1lc3BhY2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNvY2tldC5jcmVhdGUoe1xuXHRcdFx0XHRuYW1lc3BhY2U6IG51bGwsIFxuXHRcdFx0XHRyb29tOiBudWxsLFxuXHRcdFx0XHRob3N0OiBob3N0XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cdFxuXHRsaXN0ZW46IGZ1bmN0aW9uKG1lc3NhZ2UsIGZ1bikge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbihtZXNzYWdlLCBmdW4pO1xuICB9LFxuICBcbiAgbGlzdGVuQXN5bmM6IGZ1bmN0aW9uKGV2ZW50bmFtZSkge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbkFzeW5jKGV2ZW50bmFtZSk7XG4gIH0sXG59XG5cbkNvQ3JlYXRlTWVzc2FnZS5zZXRTb2NrZXQobWVzc2FnZV9zb2NrZXQpO1xuQ29DcmVhdGVNZXNzYWdlLmNyZWF0ZVNvY2tldCh3aW5kb3cuY29uZmlnLmhvc3QgPyB3aW5kb3cuY29uZmlnLmhvc3QgOiAnc2VydmVyLmNvY3JlYXRlLmFwcCcsIHdpbmRvdy5jb25maWcub3JnYW5pemF0aW9uX0lkKVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZU1lc3NhZ2U7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-message/src/index.js\n")}}]);