/*! For license information please see logic-chunk.js.LICENSE.txt */
(this.webpackChunkCoCreate_cursors=this.webpackChunkCoCreate_cursors||[]).push([["logic-chunk"],{"../CoCreate-logic/src/attributes.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../CoCreate-utils/src/index.js\"));\n\nvar _crudClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud-client */ \"../CoCreate-crud-client/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateAttributes = {\n  //. key: colleciton.document_id.name,\n  //. example:  \n\n  /** modules.xxxxx.test: [\n   *\t{el: element, attr: 'data-test1'},\n   *\t{el: element, attr: 'data-test2'}\n   * ]\n   * \n   **/\n  mainInfo: {},\n  init: function () {\n    // registerModule('fetch-attributes', this, null, this.getRequest, this.renderAttribute);\n    const self = this;\n\n    _crudClient.default.listen('updateDocument', function (data) {\n      self.render(data);\n    });\n\n    _crudClient.default.listen('readDocument', function (data) {\n      self.render(data);\n    });\n\n    _crudClient.default.listen('connect', function (data) {\n      // self.getRequest()\n      self.__getRequest();\n    });\n  },\n  initElement: function (container) {\n    const requests = this.__getRequest(container);\n\n    if (requests) {\n      requests.forEach(req => {\n        _crudClient.default.readDocument({\n          collection: req['collection'],\n          document_id: req['document_id']\n        });\n      });\n    }\n  },\n  render: function (data) {\n    const collection = data['collection'];\n    const document_id = data['document_id'];\n\n    for (let name in data.data) {\n      const key = this.__makeKey(collection, document_id, name);\n\n      const value = data.data[name];\n\n      if (this.mainInfo[key]) {\n        this.mainInfo[key].forEach(item => {\n          item.el.setAttribute(item.attr, value); // if (item.attr == 'data-collection') {\n          // \trunInitModule('cocreate-text');\t\t\t\t\t\t\n          // } \n\n          item.el.dispatchEvent(new CustomEvent('CoCreateAttribute-run', {\n            eventType: 'rendered',\n            item: item.el\n          }));\n        });\n      }\n    }\n  },\n  setValue: function (element, data) {},\n  __getRequest: function (container) {\n    let fetch_container = container || document;\n    let elements = fetch_container.querySelectorAll('[fetch-for]');\n    let self = this;\n    let requestData = [];\n\n    if (elements.length === 0 && fetch_container != document && fetch_container.hasAttributes('fetch-for')) {\n      elements = [fetch_container];\n    }\n\n    elements.forEach(el => {\n      //. check\n      const el_collection = el.getAttribute('data-collection');\n      const el_documentId = el.getAttribute('data-document_id');\n      const el_name = el.getAttribute('name');\n      const el_value = el.getAttribute('value');\n      const attributes = el.attributes;\n\n      for (let i = 0; i < attributes.length; i++) {\n        let jsonInfo = self.__jsonParse(attributes[i].value);\n\n        if (jsonInfo) {\n          let collection = jsonInfo['collection'] || el_collection;\n          let document_id = jsonInfo['document_id'] || el_documentId;\n          let name = jsonInfo['name'] || el_name;\n          let value = jsonInfo['value'] || el_value;\n\n          if (jsonInfo['data-pass_id']) {\n            let pass_info = self.__checkPassId(jsonInfo['data-pass_id']);\n\n            if (pass_info) {\n              collection = pass_info.collection;\n              document_id = pass_info.document_id;\n              value = pass_info.value;\n            } else {\n              collection = null;\n              document_id = null;\n              value = null;\n            }\n          }\n\n          const key = self.__makeKey(collection, document_id, name);\n\n          if (collection && document_id && name) {\n            if (!self.mainInfo[key]) {\n              self.mainInfo[key] = [];\n            }\n\n            self.mainInfo[key].push({\n              el: el,\n              attr: attributes[i].name\n            });\n\n            if (!requestData.some(d => d['collection'] === collection && d['document_id'] === document_id)) {\n              requestData.push({\n                collection,\n                document_id\n              });\n            }\n          }\n        }\n      }\n    });\n    return requestData;\n  },\n  __jsonParse: function (str_data) {\n    try {\n      let json_data = JSON.parse(str_data);\n\n      if (typeof json_data === 'object' && json_data != null) {\n        return json_data;\n      } else {\n        return null;\n      }\n    } catch (e) {\n      return null;\n    }\n  },\n  __checkPassId: function (pass_id) {\n    var dataParams = localStorage.getItem('dataParams');\n    dataParams = JSON.parse(dataParams);\n    if (!dataParams || dataParams.length == 0) return null;\n\n    for (var i = 0; i < dataParams.length; i++) {\n      if (dataParams[i].pass_to == pass_id) {\n        return {\n          collection: dataParams[i].collection,\n          document_id: dataParams[i].document_id,\n          value: dataParams[i].value\n        };\n      }\n    }\n\n    return null;\n  },\n  __makeKey: function (collection, document_id, name) {\n    return `${collection}_${document_id}_${name}`;\n  }\n};\nCoCreateAttributes.init();\n\n_observer.default.init({\n  name: 'CoCreateAttributes',\n  observe: ['subtree', 'childList'],\n  include: '[data-for]',\n  callback: function (mutation) {\n    CoCreateAttributes.initElement(mutation.target);\n  }\n});\n\nvar _default = CoCreateAttributes;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5jdXJzb3JzLy4uL0NvQ3JlYXRlLWxvZ2ljL3NyYy9hdHRyaWJ1dGVzLmpzPzIxYjUiXSwibmFtZXMiOlsiQ29DcmVhdGVBdHRyaWJ1dGVzIiwibWFpbkluZm8iLCJpbml0Iiwic2VsZiIsImNydWQiLCJsaXN0ZW4iLCJkYXRhIiwicmVuZGVyIiwiX19nZXRSZXF1ZXN0IiwiaW5pdEVsZW1lbnQiLCJjb250YWluZXIiLCJyZXF1ZXN0cyIsImZvckVhY2giLCJyZXEiLCJyZWFkRG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJuYW1lIiwia2V5IiwiX19tYWtlS2V5IiwidmFsdWUiLCJpdGVtIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJhdHRyIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZXZlbnRUeXBlIiwic2V0VmFsdWUiLCJlbGVtZW50IiwiZmV0Y2hfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJlbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXF1ZXN0RGF0YSIsImxlbmd0aCIsImhhc0F0dHJpYnV0ZXMiLCJlbF9jb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwiZWxfZG9jdW1lbnRJZCIsImVsX25hbWUiLCJlbF92YWx1ZSIsImF0dHJpYnV0ZXMiLCJpIiwianNvbkluZm8iLCJfX2pzb25QYXJzZSIsInBhc3NfaW5mbyIsIl9fY2hlY2tQYXNzSWQiLCJwdXNoIiwic29tZSIsImQiLCJzdHJfZGF0YSIsImpzb25fZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJwYXNzX2lkIiwiZGF0YVBhcmFtcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXNzX3RvIiwib2JzZXJ2ZXIiLCJvYnNlcnZlIiwiaW5jbHVkZSIsImNhbGxiYWNrIiwibXV0YXRpb24iLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGtCQUFrQixHQUFH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QixrQkFBa0IsQ0FBQ0UsSUFBbkI7O0FBRUEyRCxrQkFBUzNELElBQVQsQ0FBYztBQUNiZSxNQUFJLEVBQUUsb0JBRE87QUFFYjZDLFNBQU8sRUFBRSxDQUFDLFNBQUQsRUFBWSxXQUFaLENBRkk7QUFHYkMsU0FBTyxFQUFFLFlBSEk7QUFJYkMsVUFBUSxFQUFFLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUJqRSxzQkFBa0IsQ0FBQ1MsV0FBbkIsQ0FBK0J3RCxRQUFRLENBQUNDLE1BQXhDO0FBQ0E7QUFOWSxDQUFkOztlQVNlbEUsa0IiLCJmaWxlIjoiLi4vQ29DcmVhdGUtbG9naWMvc3JjL2F0dHJpYnV0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQgY3J1ZCBmcm9tICdAY29jcmVhdGUvY3J1ZC1jbGllbnQnO1xuXG5jb25zdCBDb0NyZWF0ZUF0dHJpYnV0ZXMgPSB7XG5cdC8vLiBrZXk6IGNvbGxlY2l0b24uZG9jdW1lbnRfaWQubmFtZSxcblx0Ly8uIGV4YW1wbGU6ICBcblx0LyoqIG1vZHVsZXMueHh4eHgudGVzdDogW1xuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0MSd9LFxuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0Mid9XG5cdCAqIF1cblx0ICogXG5cdCAqKi9cblx0bWFpbkluZm86IHt9LFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcmVnaXN0ZXJNb2R1bGUoJ2ZldGNoLWF0dHJpYnV0ZXMnLCB0aGlzLCBudWxsLCB0aGlzLmdldFJlcXVlc3QsIHRoaXMucmVuZGVyQXR0cmlidXRlKTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjcnVkLmxpc3RlbigndXBkYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRzZWxmLnJlbmRlcihkYXRhKVxuXHRcdH0pXG5cdFx0XG5cdFx0Y3J1ZC5saXN0ZW4oJ3JlYWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYucmVuZGVyKGRhdGEpXG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbignY29ubmVjdCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIHNlbGYuZ2V0UmVxdWVzdCgpXG5cdFx0XHRzZWxmLl9fZ2V0UmVxdWVzdCgpXG5cdFx0fSlcblx0fSxcblxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgcmVxdWVzdHMgPSB0aGlzLl9fZ2V0UmVxdWVzdChjb250YWluZXIpXG5cblx0XHRpZiAocmVxdWVzdHMpIHtcblx0XHRcdFxuXHRcdFx0cmVxdWVzdHMuZm9yRWFjaCgocmVxKSA9PiB7XG5cdFx0XHRcdGNydWQucmVhZERvY3VtZW50KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiByZXFbJ2NvbGxlY3Rpb24nXSxcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogcmVxWydkb2N1bWVudF9pZCddXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZGF0YVsnY29sbGVjdGlvbiddO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZGF0YVsnZG9jdW1lbnRfaWQnXTtcblx0XHRcblx0XHRmb3IgKGxldCBuYW1lIGluIGRhdGEuZGF0YSkge1xuXHRcdFx0Y29uc3Qga2V5ID0gdGhpcy5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpIFxuXHRcdFx0Y29uc3QgdmFsdWUgPSBkYXRhLmRhdGFbbmFtZV07XG5cdFx0XHRpZiAodGhpcy5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdHRoaXMubWFpbkluZm9ba2V5XS5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aXRlbS5lbC5zZXRBdHRyaWJ1dGUoaXRlbS5hdHRyLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gaWYgKGl0ZW0uYXR0ciA9PSAnZGF0YS1jb2xsZWN0aW9uJykge1xuXHRcdFx0XHRcdC8vIFx0cnVuSW5pdE1vZHVsZSgnY29jcmVhdGUtdGV4dCcpO1x0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIH0gXG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aXRlbS5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVBdHRyaWJ1dGUtcnVuJywge1xuXHRcdFx0XHRcdFx0ZXZlbnRUeXBlOiAncmVuZGVyZWQnLFxuXHRcdFx0XHRcdFx0aXRlbTogaXRlbS5lbFxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdHNldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCBkYXRhKSB7XG5cdFx0XG5cdH0sXG5cdFxuXHRfX2dldFJlcXVlc3Q6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGxldCBmZXRjaF9jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0bGV0IGVsZW1lbnRzID0gZmV0Y2hfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tmZXRjaC1mb3JdJyk7XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG5cdFx0bGV0IHJlcXVlc3REYXRhID0gW107XG5cdFx0XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCAmJiBmZXRjaF9jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgZmV0Y2hfY29udGFpbmVyLmhhc0F0dHJpYnV0ZXMoJ2ZldGNoLWZvcicpKSB7XG5cdFx0XHRlbGVtZW50cyA9IFtmZXRjaF9jb250YWluZXJdO1xuXHRcdH1cblxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHQvLy4gY2hlY2tcblx0XHRcdGNvbnN0IGVsX2NvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBlbF9kb2N1bWVudElkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGNvbnN0IGVsX25hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0Y29uc3QgZWxfdmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcblx0XHRcdFxuXHRcdFx0Y29uc3QgYXR0cmlidXRlcyA9IGVsLmF0dHJpYnV0ZXM7XG5cdFx0XHRcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRsZXQganNvbkluZm8gPSBzZWxmLl9fanNvblBhcnNlKGF0dHJpYnV0ZXNbaV0udmFsdWUpO1xuXHRcdFx0XHRpZiAoanNvbkluZm8pIHtcblx0XHRcdFx0XHRsZXQgY29sbGVjdGlvbiA9IGpzb25JbmZvWydjb2xsZWN0aW9uJ10gfHwgZWxfY29sbGVjdGlvbjtcblx0XHRcdFx0XHRsZXQgZG9jdW1lbnRfaWQgPSBqc29uSW5mb1snZG9jdW1lbnRfaWQnXSB8fCBlbF9kb2N1bWVudElkO1xuXHRcdFx0XHRcdGxldCBuYW1lID0ganNvbkluZm9bJ25hbWUnXSB8fCBlbF9uYW1lO1xuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGpzb25JbmZvWyd2YWx1ZSddIHx8IGVsX3ZhbHVlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChqc29uSW5mb1snZGF0YS1wYXNzX2lkJ10pIHtcblx0XHRcdFx0XHRcdGxldCBwYXNzX2luZm8gPSBzZWxmLl9fY2hlY2tQYXNzSWQoanNvbkluZm9bJ2RhdGEtcGFzc19pZCddKTtcblx0XHRcdFx0XHRcdGlmIChwYXNzX2luZm8pIHtcblx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbiA9IHBhc3NfaW5mby5jb2xsZWN0aW9uO1xuXHRcdFx0XHRcdFx0XHRkb2N1bWVudF9pZCA9IHBhc3NfaW5mby5kb2N1bWVudF9pZDtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwYXNzX2luZm8udmFsdWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnRfaWQgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3Qga2V5ID0gc2VsZi5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChjb2xsZWN0aW9uICYmIGRvY3VtZW50X2lkICYmIG5hbWUpIHtcblx0XHRcdFx0XHRcdGlmICghc2VsZi5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYubWFpbkluZm9ba2V5XSA9IFtdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2VsZi5tYWluSW5mb1trZXldLnB1c2goe2VsOiBlbCwgYXR0cjogYXR0cmlidXRlc1tpXS5uYW1lfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCFyZXF1ZXN0RGF0YS5zb21lKChkKSA9PiBkWydjb2xsZWN0aW9uJ10gPT09IGNvbGxlY3Rpb24gJiYgZFsnZG9jdW1lbnRfaWQnXSA9PT0gZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3REYXRhLnB1c2goe2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkfSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHRcdHJldHVybiByZXF1ZXN0RGF0YTtcblx0fSxcblx0XG5cdF9fanNvblBhcnNlOiBmdW5jdGlvbihzdHJfZGF0YSkge1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQganNvbl9kYXRhID0gSlNPTi5wYXJzZShzdHJfZGF0YSk7XG5cdFx0XHRpZiAodHlwZW9mIGpzb25fZGF0YSA9PT0gJ29iamVjdCcgJiYganNvbl9kYXRhICE9IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIGpzb25fZGF0YTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fY2hlY2tQYXNzSWQ6IGZ1bmN0aW9uKHBhc3NfaWQpIHtcblx0XHR2YXIgZGF0YVBhcmFtcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhUGFyYW1zJyk7XG5cdFx0ZGF0YVBhcmFtcyA9IEpTT04ucGFyc2UoZGF0YVBhcmFtcyk7XG5cblx0XHRpZiAoIWRhdGFQYXJhbXMgfHwgZGF0YVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFQYXJhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChkYXRhUGFyYW1zW2ldLnBhc3NfdG8gPT0gcGFzc19pZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGRhdGFQYXJhbXNbaV0uY29sbGVjdGlvbiwgXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGRhdGFQYXJhbXNbaV0uZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0dmFsdWU6IGRhdGFQYXJhbXNbaV0udmFsdWVcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0sXG5cdFxuXHRfX21ha2VLZXk6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuXHRcdHJldHVybiBgJHtjb2xsZWN0aW9ufV8ke2RvY3VtZW50X2lkfV8ke25hbWV9YDtcblx0fSwgXG59XG5cblxuQ29DcmVhdGVBdHRyaWJ1dGVzLmluaXQoKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVBdHRyaWJ1dGVzJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWZvcl0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVBdHRyaWJ1dGVzLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQXR0cmlidXRlczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-logic/src/attributes.js\n")},"../CoCreate-logic/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _action = _interopRequireDefault(__webpack_require__(/*! @cocreate/action */ \"../CoCreate-action/src/index.js\"));\n\nvar _attributes = _interopRequireDefault(__webpack_require__(/*! ./attributes.js */ \"../CoCreate-logic/src/attributes.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateLogic = {\n  attributes: _attributes.default,\n  init: function () {\n    this.__initKeys();\n\n    this.__initPassSessionIds();\n\n    this.__initPassParams();\n\n    this.__initPassValueParams(); // this.__initValuePassBtns();\n\n\n    this.__initGetValueInput();\n\n    this.initAtagElement();\n  },\n  // getKeys\n  __initKeys: function () {\n    if (window.localStorage.getItem('apiKey')) {\n      config.apiKey = window.localStorage.getItem('apiKey');\n    }\n\n    if (window.localStorage.getItem('securityKey')) {\n      config.securityKey = window.localStorage.getItem('securityKey');\n    }\n\n    if (window.localStorage.getItem('organization_id')) {\n      config.organization_Id = window.localStorage.getItem('organization_id');\n    }\n  },\n  //. passSessionIds\n  __initPassSessionIds: function () {\n    let orgId = window.localStorage.getItem('organization_id');\n    let user_id = window.localStorage.getItem('user_id');\n    let adminUI_id = window.localStorage.getItem('adminUI_id');\n    let builderUI_id = window.localStorage.getItem('builderUI_id');\n\n    this.__initPassItems(orgId, \".sessionOrg_Id\", true);\n\n    this.__initPassItems(user_id, \".sessionUser_Id\");\n\n    this.__initPassItems(adminUI_id, \".sessionAdminUI_Id\");\n\n    this.__initPassItems(builderUI_id, \".sessionBuilderUI_Id\");\n  },\n  initElement: function (container) {\n    const self = this;\n    let mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    let elements = mainContainer.querySelectorAll('[data-pass_id]');\n    elements = Array.from(elements);\n\n    if (mainContainer != document && mainContainer.hasAttribute('data-pass_id')) {\n      elements.push(mainContainer);\n    }\n\n    let dataParams = window.localStorage.getItem('dataParams');\n    dataParams = JSON.parse(dataParams);\n    if (!dataParams || dataParams.length == 0) return;\n    elements.forEach(el => {\n      if (_observer.default.getInitialized(el)) {\n        return;\n      }\n\n      const pass_id = el.getAttribute('data-pass_id');\n      const paramObj = dataParams.find(x => x.pass_to == pass_id);\n      if (!paramObj) return;\n      const {\n        collection,\n        document_id,\n        pass_to,\n        prefix\n      } = paramObj;\n\n      _observer.default.setInitialized(el);\n\n      if (el.tagName === \"FORM\" && !el.getAttribute('data-colleciton') && collection) {\n        el.setAttribute('data-colleciton', collection);\n      }\n\n      self.__setPassAttributes(el, paramObj);\n    });\n  },\n  initAtagElement: function () {\n    const self = this;\n    document.addEventListener('click', function (event) {\n      const target = event.target.closest('a, button');\n      if (!target) return;\n\n      if (target.getAttribute('target') === 'modal' && target.getAttribute('data-pass_to')) {\n        event.preventDefault(); // event.stopImmediatePropagation()\n\n        self.setLinkProcess(target);\n        return;\n      }\n\n      const href = target.getAttribute('href');\n\n      if (target.getAttribute('target') !== 'modal') {\n        if (target.hasAttribute('data-actions')) return;\n        if (!self.passSubmitProcess(target)) return;\n        const pass_to = target.getAttribute('data-pass_to');\n\n        if (href) {\n          event.preventDefault();\n          self.storePassData(target);\n          self.openAnother(target);\n        } else {\n          self.storePassData(target);\n\n          if (pass_to) {\n            self.__initPassParams(pass_to);\n          }\n        }\n      }\n    });\n  },\n  //. passParams\n  __initPassParams: function (pass_to) {\n    var dataParams = window.localStorage.getItem('dataParams');\n    dataParams = JSON.parse(dataParams);\n    if (!dataParams || dataParams.length == 0) return;\n    let self = this;\n    dataParams.forEach(function (dataParam) {\n      var param_collection = dataParam.collection;\n      var param_document_id = dataParam.document_id;\n      var param_prefix = dataParam.prefix;\n      var param_pass_to = dataParam.pass_to;\n\n      if (pass_to && param_pass_to != pass_to) {\n        return;\n      }\n\n      var forms = document.querySelectorAll('form');\n      forms.forEach(form => {\n        var pass_id = form.getAttribute('data-pass_id');\n\n        if (pass_id && pass_id == param_pass_to && param_collection && param_collection != \"\") {\n          if (!form.getAttribute('data-collection')) {\n            form.setAttribute('data-collection', param_collection);\n          }\n        }\n      });\n      var allTags = document.querySelectorAll('[data-pass_id]');\n      allTags.forEach(tag => {\n        var pass_id = tag.getAttribute('data-pass_id');\n\n        if (pass_id && pass_id == param_pass_to) {\n          self.__setPassAttributes(tag, dataParam);\n        }\n      });\n    });\n  },\n  // passValueParams\n  __initPassValueParams: function (contianer) {\n    var valueParams = window.localStorage.getItem('valueParams');\n    valueParams = JSON.parse(valueParams);\n    if (!valueParams || valueParams.length == 0) return;\n    valueParams.forEach(function (valueParam) {\n      var pass_value_to = valueParam.pass_value_to; // var inputs = (contianer || document).querySelectorAll('input, textarea, select');\n\n      var inputs = (contianer || document).querySelectorAll('[data-pass_value_id]');\n      inputs.forEach(input => {\n        let pass_value_id = input.getAttribute('data-pass_value_id');\n\n        if (pass_value_id && pass_value_id == pass_value_to) {\n          if (['INPUT', 'TEXTAREA', 'SELECT'].includes(input.tagName)) {\n            input.value = valueParam.value;\n            if (CoCreate.floatingLabel) CoCreate.floatingLabel.update(input);\n          } else {\n            input.innerHTML = valueParam.value;\n          }\n        }\n      });\n    });\n  },\n  __getPassAttributes: function (element) {\n    return {\n      collection: element.getAttribute('data-pass_collection') || element.getAttribute('data-pass_fetch_collection'),\n      document_id: element.getAttribute('data-pass_document_id'),\n      name: element.getAttribute('data-pass_name'),\n      value: element.getAttribute('data-pass_value'),\n      pass_to: element.getAttribute('data-pass_to'),\n      filter_name: element.getAttribute('data-pass_filter_name'),\n      filter_value: element.getAttribute('data-pass_filter_value'),\n      prefix: element.getAttribute('data-pass_prefix') || \"\"\n    };\n  },\n  __setPassAttributes: function (el, param) {\n    const {\n      collection,\n      document_id,\n      name,\n      value,\n      pass_to,\n      filter_name,\n      filter_value,\n      prefix\n    } = param;\n    const pass_id = el.getAttribute('data-pass_id');\n    const isRefresh = el.hasAttribute('data-pass_refresh') ? true : false;\n    if (pass_id != pass_to) return;\n\n    if (collection) {\n      this.__setAttributeValueOfElement(el, 'data-collection', collection, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-fetch_collection', collection, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_fetch_collection', collection, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_collection', collection, isRefresh);\n    }\n\n    if (document_id) {\n      this.__setAttributeValueOfElement(el, 'data-document_id', document_id, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-fetch_document_id', document_id, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_fetch_document_id', document_id, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_document_id', document_id, isRefresh);\n    }\n\n    if (name) {\n      this.__setAttributeValueOfElement(el, 'name', name, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-fetch_name', name, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_name', name, isRefresh);\n    }\n\n    if (value) {\n      this.__setAttributeValueOfElement(el, 'value', value, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_value', value, isRefresh);\n    }\n\n    if (prefix) {\n      this.__setAttributeValueOfElement(el, 'name', prefix + el.getAttribute('name'), isRefresh, true);\n\n      this.__setAttributeValueOfElement(el, 'data-fetch_name', prefix + el.getAttribute('data-fetch_name'), isRefresh, true);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_prefix', prefix, isRefresh);\n    }\n\n    if (filter_name) {\n      this.__setAttributeValueOfElement(el, 'data-filter_name', filter_name, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_filter_name', filter_name, isRefresh);\n    }\n\n    if (filter_value) {\n      this.__setAttributeValueOfElement(el, 'data-filter_value', filter_value, isRefresh);\n\n      this.__setAttributeValueOfElement(el, 'data-pass_filter_value', filter_value, isRefresh);\n    }\n  },\n  __setAttributeValueOfElement: function (el, attrname, value, isRefresh, onlyHas) {\n    if (value) {\n      if (el.hasAttribute(attrname) && onlyHas) {\n        el.setAttribute(attrname, value);\n        return;\n      }\n\n      if (el.hasAttribute(attrname) && (!el.getAttribute(attrname) || isRefresh)) {\n        el.setAttribute(attrname, value);\n        return;\n      }\n    }\n  },\n  //. storePassData\n  storePassData: function (aTag) {\n    let dataParams = [];\n    const self = this;\n\n    let param = this.__getPassAttributes(aTag);\n\n    if (aTag.hasAttribute('data-actions')) {\n      return;\n    }\n\n    if (param.pass_to) {\n      dataParams.push(param);\n    }\n\n    let tags = aTag.querySelectorAll('[data-pass_to]');\n    tags.forEach(tag => {\n      let passParam = self.__getPassAttributes(tag);\n\n      if (passParam.pass_to) {\n        dataParams.push(passParam);\n      }\n    });\n    if (dataParams.length > 0) localStorage.setItem('dataParams', JSON.stringify(dataParams));\n  },\n  //. initValuePassBtns\n  __initValuePassBtns: function () {// let forms = document.getElementsByTagName('form');\n    // for (let i=0; i < forms.length; i++) {\n    // \tlet form = forms[i];\n    // \tlet valuePassBtn = form.querySelector('.passValueBtn');\n    // \tif (valuePassBtn) this.__registerValuePassBtnEvent(form, valuePassBtn);\n    // }\n  },\n  __initGetValueInput: function () {\n    var inputs = document.querySelectorAll('input, textarea');\n    let self = this;\n\n    for (var i = 0; i < inputs.length; i++) {\n      var input = inputs[i];\n\n      if (!input.id) {\n        continue;\n      }\n\n      input.addEventListener('input', function (e) {\n        self.__setGetValueProcess(this.id, this.value);\n      });\n      input.addEventListener('updated_by_fetch', function (e) {\n        self.__setGetValueProcess(this.id, this.value);\n      });\n    }\n  },\n  //. initValuePassBtn\n  __registerValuePassBtnEvent: function (form, valuePassBtn) {// let self = this;\n    // return;\n    // valuePassBtn.addEventListener('click', function(e) {\n    // \tlet inputs = form.querySelectorAll('input, textarea, select');\n    // \tif (valuePassBtn.hasAttribute('data-actions')) {\n    // \t\treturn;\n    // \t}\n    // \tlet valueParams = [];\n    // \tfor (let i = 0; i < inputs.length; i++) {\n    // \t\tlet input = inputs[i];\n    // \t\tlet pass_value_to = input.getAttribute('data-pass_value_to');\n    // \t\tlet value = input.value;\n    // \t\tif (pass_value_to) {\n    // \t\t\tvalueParams.push({\n    // \t\t\t\tpass_value_to: pass_value_to,\n    // \t\t\t\tvalue: value\n    // \t\t\t})\n    // \t\t}\n    // \t}\n    // \tif (valueParams.length > 0) localStorage.setItem('valueParams', JSON.stringify(valueParams));\n    // \tself.__initPassValueParams();\n    // \tlet aTag = valuePassBtn.querySelector('a');\n    // \tif (aTag) self.setLinkProcess(aTag);\n    // })\n  },\n  passProcessAction: function (btn) {\n    let form = btn.closest('form');\n    if (!form) return;\n    let inputs = form.querySelectorAll('input, textarea, select');\n    let valueParams = [];\n    inputs.forEach(el => {\n      const pass_value_to = el.getAttribute('data-pass_value_to');\n      const value = el.value;\n\n      if (pass_value_to) {\n        valueParams.push({\n          pass_value_to: pass_value_to,\n          value: value\n        });\n      }\n    });\n\n    if (valueParams.length > 0) {\n      window.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n    }\n\n    this.__initPassValueParams(); // let aTag = btn.querySelector('a');\n    // if (aTag) this.setLinkProcess(aTag);\n    //. end event\n\n\n    document.dispatchEvent(new CustomEvent('passValueActionEnd', {\n      detail: {}\n    }));\n  },\n  setDataPassValues: function (values) {\n    const valueParams = [];\n\n    for (let key in values) {\n      valueParams.push({\n        pass_value_to: key,\n        value: values[key]\n      });\n    }\n\n    if (valueParams.length > 0) {\n      window.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n    }\n  },\n  initDataPassValues: function () {\n    window.localStorage.removeItem('valueParams');\n  },\n  //. openAnother\n  openAnother: function (atag) {\n    var href = atag.getAttribute('href');\n    var target = atag.getAttribute('target');\n\n    if (target == \"_blank\") {\n      window.open(href, \"_blank\");\n    } else if (target == \"_window\") {\n      window.open(href, '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n    } else {\n      window.open(href, \"_self\");\n    }\n  },\n  //. clickATaginButton\n  setLinkProcess: function (aTag) {\n    if (aTag.hasAttribute('data-actions')) {\n      return;\n    }\n\n    const pass_to = aTag.getAttribute('data-pass_to');\n    const href = aTag.getAttribute('href');\n    this.storePassData(aTag);\n\n    if (this.checkOpenCocreateModal(aTag)) {\n      if (typeof CoCreate.modal !== 'undefined') {\n        CoCreate.modal.open(aTag);\n      }\n    } else if (href) {\n      this.openAnother(aTag);\n    } else if (pass_to) {\n      this.__initPassParams(pass_to);\n    }\n  },\n  checkOpenCocreateModal: function (atag) {\n    if (atag.getAttribute('target') === \"modal\") {\n      return true;\n    }\n\n    return false;\n  },\n  passSubmitProcess: function (element) {\n    if (element.parentNode.classList.contains('submitBtn')) {\n      if (element.getAttribute('data-pass_to') && element.getAttribute('data-pass_document_id')) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return true;\n    }\n  },\n  __setGetValueProcess: function (id, value) {\n    if (!id) return;\n    var targets = document.querySelectorAll('[data-get_value=\"' + id + '\"]');\n    targets.forEach(target => {\n      // target.value = value;\n      if (typeof target.value != \"undefined\") {\n        target.value = value;\n      } else if (typeof target.textContent != \"undefined\") {\n        target.textContent = value;\n      }\n\n      if (CoCreate.floatingLabel) CoCreate.floatingLabel.update(target);\n      target.dispatchEvent(new Event(\"input\", {\n        \"bubbles\": true\n      }));\n\n      if (target.classList.contains('searchInput')) {\n        let evt = new KeyboardEvent('keydown', {\n          'keyCode': 13\n        });\n        target.dispatchEvent(evt);\n      }\n    });\n  },\n  __initPassItems: function (id, selector, noFetch) {\n    const self = this;\n\n    if (id) {\n      let elements = document.querySelectorAll(selector);\n      elements.forEach(el => {\n        self.__setAttributeValueOfElement(el, 'data-document_id', id); // self.__setAttributeValueOfElement(el, 'data-fetch_document_id', id);\n\n\n        self.__setAttributeValueOfElement(el, 'data-filter_value', id);\n      });\n    }\n  }\n};\nCoCreateLogic.init();\n\n_observer.default.init({\n  name: 'CoCreateAttributes',\n  observe: ['subtree', 'childList'],\n  include: '[data-for]',\n  callback: function (mutation) {\n    CoCreateLogic.attributes.initElement(mutation.target);\n  }\n});\n\n_observer.default.init({\n  name: 'CoCreateLogic',\n  observe: ['subtree', 'childList'],\n  include: '[data-pass_id]',\n  callback: function (mutation) {\n    CoCreateLogic.initElement(mutation.target);\n  }\n});\n\n_action.default.init({\n  action: \"passValueAction\",\n  endEvent: \"passValueActionEnd\",\n  callback: (btn, data) => {\n    CoCreateLogic.passProcessAction(btn);\n  }\n});\n\nvar _default = CoCreateLogic;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5jdXJzb3JzLy4uL0NvQ3JlYXRlLWxvZ2ljL3NyYy9pbmRleC5qcz8zMDMwIl0sIm5hbWVzIjpbIkNvQ3JlYXRlTG9naWMiLCJhdHRyaWJ1dGVzIiwiQ29DcmVhdGVBdHRyaWJ1dGVzIiwiaW5pdCIsIl9faW5pdEtleXMiLCJfX2luaXRQYXNzU2Vzc2lvbklkcyIsIl9faW5pdFBhc3NQYXJhbXMiLCJfX2luaXRQYXNzVmFsdWVQYXJhbXMiLCJfX2luaXRHZXRWYWx1ZUlucHV0IiwiaW5pdEF0YWdFbGVtZW50Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbmZpZyIsImFwaUtleSIsInNlY3VyaXR5S2V5Iiwib3JnYW5pemF0aW9uX0lkIiwib3JnSWQiLCJ1c2VyX2lkIiwiYWRtaW5VSV9pZCIsImJ1aWxkZXJVSV9pZCIsIl9faW5pdFBhc3NJdGVtcyIsImluaXRFbGVtZW50IiwiY29udGFpbmVyIiwic2VsZiIsIm1haW5Db250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50cyIsIkFycmF5IiwiZnJvbSIsImhhc0F0dHJpYnV0ZSIsInB1c2giLCJkYXRhUGFyYW1zIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwiZm9yRWFjaCIsImVsIiwib2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInBhc3NfaWQiLCJnZXRBdHRyaWJ1dGUiLCJwYXJhbU9iaiIsImZpbmQiLCJ4IiwicGFzc190byIsImNvbGxlY3Rpb24iLCJkb2N1bWVudF9pZCIsInByZWZpeCIsInNldEluaXRpYWxpemVkIiwidGFnTmFtZSIsInNldEF0dHJpYnV0ZSIsIl9fc2V0UGFzc0F0dHJpYnV0ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJzZXRMaW5rUHJvY2VzcyIsImhyZWYiLCJwYXNzU3VibWl0UHJvY2VzcyIsInN0b3JlUGFzc0RhdGEiLCJvcGVuQW5vdGhlciIsImRhdGFQYXJhbSIsInBhcmFtX2NvbGxlY3Rpb24iLCJwYXJhbV9kb2N1bWVudF9pZCIsInBhcmFtX3ByZWZpeCIsInBhcmFtX3Bhc3NfdG8iLCJmb3JtcyIsImZvcm0iLCJhbGxUYWdzIiwidGFnIiwiY29udGlhbmVyIiwidmFsdWVQYXJhbXMiLCJ2YWx1ZVBhcmFtIiwicGFzc192YWx1ZV90byIsImlucHV0cyIsImlucHV0IiwicGFzc192YWx1ZV9pZCIsImluY2x1ZGVzIiwidmFsdWUiLCJDb0NyZWF0ZSIsImZsb2F0aW5nTGFiZWwiLCJ1cGRhdGUiLCJpbm5lckhUTUwiLCJfX2dldFBhc3NBdHRyaWJ1dGVzIiwiZWxlbWVudCIsIm5hbWUiLCJmaWx0ZXJfbmFtZSIsImZpbHRlcl92YWx1ZSIsInBhcmFtIiwiaXNSZWZyZXNoIiwiX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudCIsImF0dHJuYW1lIiwib25seUhhcyIsImFUYWciLCJ0YWdzIiwicGFzc1BhcmFtIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl9faW5pdFZhbHVlUGFzc0J0bnMiLCJpIiwiaWQiLCJlIiwiX19zZXRHZXRWYWx1ZVByb2Nlc3MiLCJfX3JlZ2lzdGVyVmFsdWVQYXNzQnRuRXZlbnQiLCJ2YWx1ZVBhc3NCdG4iLCJwYXNzUHJvY2Vzc0FjdGlvbiIsImJ0biIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsInNldERhdGFQYXNzVmFsdWVzIiwidmFsdWVzIiwia2V5IiwiaW5pdERhdGFQYXNzVmFsdWVzIiwicmVtb3ZlSXRlbSIsImF0YWciLCJvcGVuIiwiY2hlY2tPcGVuQ29jcmVhdGVNb2RhbCIsIm1vZGFsIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidGFyZ2V0cyIsInRleHRDb250ZW50IiwiRXZlbnQiLCJldnQiLCJLZXlib2FyZEV2ZW50Iiwic2VsZWN0b3IiLCJub0ZldGNoIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxs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LFVBQVEsRUFBRSxDQUFDekIsR0FBRCxFQUFNNkIsSUFBTixLQUFlO0FBQ3hCMUksaUJBQWEsQ0FBQzRHLGlCQUFkLENBQWdDQyxHQUFoQztBQUNBO0FBTFUsQ0FBWjs7ZUFRZTdHLGEiLCJmaWxlIjoiLi4vQ29DcmVhdGUtbG9naWMvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9ic2VydmVyIGZyb20gJ0Bjb2NyZWF0ZS9vYnNlcnZlcidcbmltcG9ydCBhY3Rpb24gZnJvbSAnQGNvY3JlYXRlL2FjdGlvbidcbmltcG9ydCBDb0NyZWF0ZUF0dHJpYnV0ZXMgZnJvbSBcIi4vYXR0cmlidXRlcy5qc1wiXG5cbmNvbnN0IENvQ3JlYXRlTG9naWMgPSB7XG5cdGF0dHJpYnV0ZXM6IENvQ3JlYXRlQXR0cmlidXRlcyxcblx0XG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX19pbml0S2V5cygpO1xuXHRcdHRoaXMuX19pbml0UGFzc1Nlc3Npb25JZHMoKTtcblx0XHR0aGlzLl9faW5pdFBhc3NQYXJhbXMoKTtcblx0XHR0aGlzLl9faW5pdFBhc3NWYWx1ZVBhcmFtcygpO1xuXHRcdC8vIHRoaXMuX19pbml0VmFsdWVQYXNzQnRucygpO1xuXHRcdHRoaXMuX19pbml0R2V0VmFsdWVJbnB1dCgpO1xuXHRcdHRoaXMuaW5pdEF0YWdFbGVtZW50KCk7XG5cdH0sXG5cdFx0XG5cdC8vIGdldEtleXNcblx0X19pbml0S2V5czogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXBpS2V5JykpIHtcblx0XHRcdGNvbmZpZy5hcGlLZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwaUtleScpO1xuXHRcdH1cblx0XHRpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWN1cml0eUtleScpKSB7XG5cdFx0XHRjb25maWcuc2VjdXJpdHlLZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlY3VyaXR5S2V5Jyk7XG5cdFx0fVxuXHRcdGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZ2FuaXphdGlvbl9pZCcpKSB7XG5cdFx0XHRjb25maWcub3JnYW5pemF0aW9uX0lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmdhbml6YXRpb25faWQnKTtcblx0XHR9XG5cdH0sXG5cdFxuXHQvLy4gcGFzc1Nlc3Npb25JZHNcblx0X19pbml0UGFzc1Nlc3Npb25JZHM6IGZ1bmN0aW9uKCkge1xuXHRcdGxldCBvcmdJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JnYW5pemF0aW9uX2lkJyk7XG5cdFx0bGV0IHVzZXJfaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcblx0XHRsZXQgYWRtaW5VSV9pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWRtaW5VSV9pZCcpO1xuXHRcdGxldCBidWlsZGVyVUlfaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2J1aWxkZXJVSV9pZCcpO1xuXG5cdFx0dGhpcy5fX2luaXRQYXNzSXRlbXMob3JnSWQsIFx0XHRcdFwiLnNlc3Npb25PcmdfSWRcIiwgdHJ1ZSk7XG5cdFx0dGhpcy5fX2luaXRQYXNzSXRlbXModXNlcl9pZCwgXHRcdFwiLnNlc3Npb25Vc2VyX0lkXCIpO1xuXHRcdHRoaXMuX19pbml0UGFzc0l0ZW1zKGFkbWluVUlfaWQsXHRcIi5zZXNzaW9uQWRtaW5VSV9JZFwiKTtcblx0XHR0aGlzLl9faW5pdFBhc3NJdGVtcyhidWlsZGVyVUlfaWQsXCIuc2Vzc2lvbkJ1aWxkZXJVSV9JZFwiKTtcblx0fSxcblx0XG5cdGluaXRFbGVtZW50OiBmdW5jdGlvbihjb250YWluZXIpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRsZXQgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XHRpZiAoIW1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRsZXQgZWxlbWVudHMgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhc3NfaWRdJyk7XG5cdFx0ZWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcblx0XHRpZiAobWFpbkNvbnRhaW5lciAhPSBkb2N1bWVudCAmJiBtYWluQ29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJykpIHtcblx0XHRcdGVsZW1lbnRzLnB1c2gobWFpbkNvbnRhaW5lcilcblx0XHR9XG5cdFx0bGV0IGRhdGFQYXJhbXMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGFQYXJhbXMnKTtcblx0XHRkYXRhUGFyYW1zID0gSlNPTi5wYXJzZShkYXRhUGFyYW1zKTtcblx0XHRpZiAoIWRhdGFQYXJhbXMgfHwgZGF0YVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXHRcdFxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRpZiAob2JzZXJ2ZXIuZ2V0SW5pdGlhbGl6ZWQoZWwpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgcGFzc19pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJylcblx0XHRcdGNvbnN0IHBhcmFtT2JqID0gZGF0YVBhcmFtcy5maW5kKHggPT4geC5wYXNzX3RvID09IHBhc3NfaWQpXG5cdFx0XHRpZiAoIXBhcmFtT2JqKSByZXR1cm47XG5cblx0XHRcdGNvbnN0IHtjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgcGFzc190bywgcHJlZml4fSA9IHBhcmFtT2JqO1xuXHRcdFx0b2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoZWwpXG5cdFx0XHRcblx0XHRcdGlmIChlbC50YWdOYW1lID09PSBcIkZPUk1cIiAmJiAhZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY2l0b24nKSAmJiBjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWNpdG9uJywgY29sbGVjdGlvbik7XG5cdFx0XHR9XG5cdFx0XHRzZWxmLl9fc2V0UGFzc0F0dHJpYnV0ZXMoZWwsIHBhcmFtT2JqKTtcblxuXG5cdFx0fSk7XG5cdH0sXG5cdFxuXHRpbml0QXRhZ0VsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdhLCBidXR0b24nKVxuXHRcdFx0aWYgKCF0YXJnZXQpICByZXR1cm47XG5cdFx0XHRcblx0XHRcdGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSA9PT0gJ21vZGFsJyAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHQvLyBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXHRcdFx0XHRzZWxmLnNldExpbmtQcm9jZXNzKHRhcmdldCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgaHJlZiA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblx0XHRcdGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSAhPT0gJ21vZGFsJykge1xuXHRcdFx0XHRpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHJldHVybjtcblx0XHRcdFx0aWYgKCFzZWxmLnBhc3NTdWJtaXRQcm9jZXNzKHRhcmdldCkpIHJldHVybjtcblx0XHRcdFx0Y29uc3QgcGFzc190byA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpO1xuXHRcdFx0XHRpZiAoaHJlZikge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0c2VsZi5zdG9yZVBhc3NEYXRhKHRhcmdldClcblx0XHRcdFx0XHRzZWxmLm9wZW5Bbm90aGVyKHRhcmdldClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWxmLnN0b3JlUGFzc0RhdGEodGFyZ2V0KVxuXHRcdFx0XHRcdGlmIChwYXNzX3RvKSB7XG5cdFx0XHRcdFx0XHRzZWxmLl9faW5pdFBhc3NQYXJhbXMocGFzc190byk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9KVxuXHR9LFxuXHRcblx0Ly8uIHBhc3NQYXJhbXNcblx0X19pbml0UGFzc1BhcmFtczogZnVuY3Rpb24ocGFzc190bykge1xuXHRcdHZhciBkYXRhUGFyYW1zID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhUGFyYW1zJyk7XG5cdFx0ZGF0YVBhcmFtcyA9IEpTT04ucGFyc2UoZGF0YVBhcmFtcyk7XG5cblx0XHRpZiAoIWRhdGFQYXJhbXMgfHwgZGF0YVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRkYXRhUGFyYW1zLmZvckVhY2goZnVuY3Rpb24oZGF0YVBhcmFtKSB7XG5cdFx0XHR2YXIgcGFyYW1fY29sbGVjdGlvbiA9IGRhdGFQYXJhbS5jb2xsZWN0aW9uO1xuXHRcdFx0dmFyIHBhcmFtX2RvY3VtZW50X2lkID0gZGF0YVBhcmFtLmRvY3VtZW50X2lkO1xuXHRcdFx0dmFyIHBhcmFtX3ByZWZpeCA9IGRhdGFQYXJhbS5wcmVmaXg7XG5cdFx0XHR2YXIgcGFyYW1fcGFzc190byA9IGRhdGFQYXJhbS5wYXNzX3RvO1xuXHRcdFx0XG5cdFx0XHRpZiAocGFzc190byAmJiBwYXJhbV9wYXNzX3RvICE9IHBhc3NfdG8pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHR2YXIgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XG5cdFx0XHRcblx0XHRcdGZvcm1zLmZvckVhY2goKGZvcm0pID0+IHtcblx0XHRcdFx0dmFyIHBhc3NfaWQgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJyk7XG5cdFx0XHRcdGlmIChwYXNzX2lkICYmIHBhc3NfaWQgPT0gcGFyYW1fcGFzc190byAmJiBwYXJhbV9jb2xsZWN0aW9uICYmIHBhcmFtX2NvbGxlY3Rpb24gIT0gXCJcIikge1xuXHRcdFx0XHRcdGlmICghZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpKSB7XG5cdFx0XHRcdFx0XHRmb3JtLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJywgcGFyYW1fY29sbGVjdGlvbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0XHR2YXIgYWxsVGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhc3NfaWRdJyk7XG5cdFx0XHRhbGxUYWdzLmZvckVhY2goKHRhZykgPT4ge1xuXHRcdFx0XHR2YXIgcGFzc19pZCA9IHRhZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19pZCcpO1xuXHRcdFx0XHRpZiAocGFzc19pZCAmJiBwYXNzX2lkID09IHBhcmFtX3Bhc3NfdG8pIHtcblx0XHRcdFx0XHRzZWxmLl9fc2V0UGFzc0F0dHJpYnV0ZXModGFnLCBkYXRhUGFyYW0pXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSlcdFx0XG5cdH0sXG5cdFxuXHQvLyBwYXNzVmFsdWVQYXJhbXNcblx0X19pbml0UGFzc1ZhbHVlUGFyYW1zOiBmdW5jdGlvbihjb250aWFuZXIpIHtcblx0XHR2YXIgdmFsdWVQYXJhbXMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZhbHVlUGFyYW1zJyk7XG5cdFx0dmFsdWVQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlUGFyYW1zKTtcblx0XHRcblx0XHRpZiAoIXZhbHVlUGFyYW1zIHx8IHZhbHVlUGFyYW1zLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cdFx0XG5cdFx0dmFsdWVQYXJhbXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZVBhcmFtKSB7XG5cdFx0XHR2YXIgcGFzc192YWx1ZV90byA9IHZhbHVlUGFyYW0ucGFzc192YWx1ZV90bztcblx0XHRcdC8vIHZhciBpbnB1dHMgPSAoY29udGlhbmVyIHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuXHRcdFx0dmFyIGlucHV0cyA9IChjb250aWFuZXIgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhc3NfdmFsdWVfaWRdJyk7XG5cdFx0XHRcblx0XHRcdGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdFx0XHRsZXQgcGFzc192YWx1ZV9pZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3ZhbHVlX2lkJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAocGFzc192YWx1ZV9pZCAmJiBwYXNzX3ZhbHVlX2lkID09IHBhc3NfdmFsdWVfdG8pIHtcblx0XHRcdFx0XHRpZiAoWydJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnXS5pbmNsdWRlcyhpbnB1dC50YWdOYW1lKSkge1xuXHRcdFx0XHRcdFx0aW5wdXQudmFsdWUgPSB2YWx1ZVBhcmFtLnZhbHVlO1xuXHRcdFx0XHRcdFx0aWYgKENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwpIENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwudXBkYXRlKGlucHV0KVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpbnB1dC5pbm5lckhUTUwgPSB2YWx1ZVBhcmFtLnZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVx0ICAgIFx0XG5cdFx0XHR9KVxuXHRcdH0pXHRcdFxuXHR9LFxuXHRcblx0X19nZXRQYXNzQXR0cmlidXRlczogZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y29sbGVjdGlvbiA6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfY29sbGVjdGlvbicpIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZmV0Y2hfY29sbGVjdGlvbicpLFxuXHRcdFx0ZG9jdW1lbnRfaWQgOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJyksXG5cdFx0XHRuYW1lIDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19uYW1lJyksXG5cdFx0XHR2YWx1ZSA6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdmFsdWUnKSxcblx0XHRcdHBhc3NfdG86IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSxcblx0XHRcdGZpbHRlcl9uYW1lOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2ZpbHRlcl9uYW1lJyksXG5cdFx0XHRmaWx0ZXJfdmFsdWU6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZmlsdGVyX3ZhbHVlJyksXG5cdFx0XHRwcmVmaXg6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfcHJlZml4JykgfHwgXCJcIlxuXHRcdH1cdFxuXHR9LFxuXHRcblx0X19zZXRQYXNzQXR0cmlidXRlczogZnVuY3Rpb24oZWwsIHBhcmFtKSB7XG5cdFx0Y29uc3Qge2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lLCB2YWx1ZSwgcGFzc190bywgZmlsdGVyX25hbWUsIGZpbHRlcl92YWx1ZSwgcHJlZml4fSA9IHBhcmFtO1xuXHRcdGNvbnN0IHBhc3NfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19pZCcpXG5cdFx0Y29uc3QgaXNSZWZyZXNoID0gZWwuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfcmVmcmVzaCcpID8gdHJ1ZTogZmFsc2U7XG5cdFx0XG5cdFx0aWYgKHBhc3NfaWQgIT0gcGFzc190bykgcmV0dXJuIDtcblx0XHRcblx0XHRpZiAoY29sbGVjdGlvbikge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1jb2xsZWN0aW9uJywgY29sbGVjdGlvbiwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmV0Y2hfY29sbGVjdGlvbicsIGNvbGxlY3Rpb24sIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfZmV0Y2hfY29sbGVjdGlvbicsIGNvbGxlY3Rpb24sIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfY29sbGVjdGlvbicsIGNvbGxlY3Rpb24sIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChkb2N1bWVudF9pZCkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1mZXRjaF9kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2ZldGNoX2RvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKG5hbWUpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ25hbWUnLCBuYW1lLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1mZXRjaF9uYW1lJywgbmFtZSwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19uYW1lJywgbmFtZSwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICd2YWx1ZScsIHZhbHVlLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX3ZhbHVlJywgdmFsdWUsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChwcmVmaXgpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ25hbWUnLCBwcmVmaXggKyBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSwgaXNSZWZyZXNoLCB0cnVlKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmV0Y2hfbmFtZScsIHByZWZpeCArIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1mZXRjaF9uYW1lJyksIGlzUmVmcmVzaCwgdHJ1ZSk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfcHJlZml4JywgcHJlZml4LCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZmlsdGVyX25hbWUpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmlsdGVyX25hbWUnLCBmaWx0ZXJfbmFtZSwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19maWx0ZXJfbmFtZScsIGZpbHRlcl9uYW1lLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZmlsdGVyX3ZhbHVlKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZpbHRlcl92YWx1ZScsIGZpbHRlcl92YWx1ZSwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19maWx0ZXJfdmFsdWUnLCBmaWx0ZXJfdmFsdWUsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHR9LFxuXHRcblx0X19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudDogZnVuY3Rpb24gKGVsLCBhdHRybmFtZSwgdmFsdWUsIGlzUmVmcmVzaCwgb25seUhhcykge1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0aWYgKGVsLmhhc0F0dHJpYnV0ZShhdHRybmFtZSkgJiYgb25seUhhcykge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoYXR0cm5hbWUsIHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGVsLmhhc0F0dHJpYnV0ZShhdHRybmFtZSkgJiYgKCFlbC5nZXRBdHRyaWJ1dGUoYXR0cm5hbWUpIHx8IGlzUmVmcmVzaCkpIHtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKGF0dHJuYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdHJldHVybiBcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdFxuXHQvLy4gc3RvcmVQYXNzRGF0YVxuXHRzdG9yZVBhc3NEYXRhOiBmdW5jdGlvbihhVGFnKSB7XG5cdFx0bGV0IGRhdGFQYXJhbXMgPSBbXTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRsZXQgcGFyYW0gPSB0aGlzLl9fZ2V0UGFzc0F0dHJpYnV0ZXMoYVRhZyk7XG5cdFx0XG5cdFx0aWYgKGFUYWcuaGFzQXR0cmlidXRlKCdkYXRhLWFjdGlvbnMnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRpZiAocGFyYW0ucGFzc190bykge1xuXHRcdFx0ZGF0YVBhcmFtcy5wdXNoKHBhcmFtKTtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IHRhZ3MgPSBhVGFnLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhc3NfdG9dJyk7XG5cblx0XHR0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuXHRcdFx0bGV0IHBhc3NQYXJhbSA9IHNlbGYuX19nZXRQYXNzQXR0cmlidXRlcyh0YWcpXG5cdFx0XHRpZiAocGFzc1BhcmFtLnBhc3NfdG8pIHtcblx0XHRcdFx0ZGF0YVBhcmFtcy5wdXNoKHBhc3NQYXJhbSk7XG5cdFx0XHR9XHRcdFx0XG5cdFx0fSlcblx0XHRpZiAoZGF0YVBhcmFtcy5sZW5ndGggPiAwKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGF0YVBhcmFtcycsIEpTT04uc3RyaW5naWZ5KGRhdGFQYXJhbXMpKTtcblx0fSxcblx0XG5cblx0Ly8uIGluaXRWYWx1ZVBhc3NCdG5zXG5cdF9faW5pdFZhbHVlUGFzc0J0bnM6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIGxldCBmb3JtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmb3JtJyk7XG5cdFxuXHRcdC8vIGZvciAobGV0IGk9MDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gXHRsZXQgZm9ybSA9IGZvcm1zW2ldO1xuXHRcdFx0XG5cdFx0Ly8gXHRsZXQgdmFsdWVQYXNzQnRuID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcucGFzc1ZhbHVlQnRuJyk7XG5cdFx0XHRcblx0XHQvLyBcdGlmICh2YWx1ZVBhc3NCdG4pIHRoaXMuX19yZWdpc3RlclZhbHVlUGFzc0J0bkV2ZW50KGZvcm0sIHZhbHVlUGFzc0J0bik7XG5cdFx0Ly8gfVxuXHR9LFxuXHRcblx0X19pbml0R2V0VmFsdWVJbnB1dDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYScpO1xuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuXHRcdCAgdmFyIGlucHV0ID0gaW5wdXRzW2ldO1xuXHRcdCAgXG5cdFx0ICBpZiAoIWlucHV0LmlkKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHQgIH1cblx0XHQgIFxuXHRcdCAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRzZWxmLl9fc2V0R2V0VmFsdWVQcm9jZXNzKHRoaXMuaWQsIHRoaXMudmFsdWUpXG5cdFx0ICB9KVxuXHRcdCAgXG5cdFx0ICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVkX2J5X2ZldGNoJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0c2VsZi5fX3NldEdldFZhbHVlUHJvY2Vzcyh0aGlzLmlkLCB0aGlzLnZhbHVlKTtcblx0XHQgIH0pXG5cdFx0fVxuXHR9LFxuXHRcblx0Ly8uIGluaXRWYWx1ZVBhc3NCdG5cblx0X19yZWdpc3RlclZhbHVlUGFzc0J0bkV2ZW50OiBmdW5jdGlvbihmb3JtLCB2YWx1ZVBhc3NCdG4pIHtcblx0XHQvLyBsZXQgc2VsZiA9IHRoaXM7XG5cdFx0Ly8gcmV0dXJuO1xuXHRcdC8vIHZhbHVlUGFzc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHQvLyBcdGxldCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Jyk7XG5cdFx0XHRcblx0XHQvLyBcdGlmICh2YWx1ZVBhc3NCdG4uaGFzQXR0cmlidXRlKCdkYXRhLWFjdGlvbnMnKSkge1xuXHRcdC8vIFx0XHRyZXR1cm47XG5cdFx0Ly8gXHR9XG5cdFx0XHRcblx0XHQvLyBcdGxldCB2YWx1ZVBhcmFtcyA9IFtdO1xuXHRcdFx0XG5cdFx0Ly8gXHRmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuXHRcdC8vIFx0XHRsZXQgaW5wdXQgPSBpbnB1dHNbaV07XG5cdFx0XHRcdFxuXHRcdC8vIFx0XHRsZXQgcGFzc192YWx1ZV90byA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3ZhbHVlX3RvJyk7XG5cdFx0Ly8gXHRcdGxldCB2YWx1ZSA9IGlucHV0LnZhbHVlO1xuXHRcdFx0XHRcblx0XHQvLyBcdFx0aWYgKHBhc3NfdmFsdWVfdG8pIHtcblx0XHQvLyBcdFx0XHR2YWx1ZVBhcmFtcy5wdXNoKHtcblx0XHQvLyBcdFx0XHRcdHBhc3NfdmFsdWVfdG86IHBhc3NfdmFsdWVfdG8sXG5cdFx0Ly8gXHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHQvLyBcdFx0XHR9KVxuXHRcdC8vIFx0XHR9XG5cdFx0Ly8gXHR9XG5cdFx0XHRcblx0XHQvLyBcdGlmICh2YWx1ZVBhcmFtcy5sZW5ndGggPiAwKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVQYXJhbXMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZVBhcmFtcykpO1xuXHRcdFx0XG5cdFx0Ly8gXHRzZWxmLl9faW5pdFBhc3NWYWx1ZVBhcmFtcygpO1xuXHRcdFx0XG5cdFx0Ly8gXHRsZXQgYVRhZyA9IHZhbHVlUGFzc0J0bi5xdWVyeVNlbGVjdG9yKCdhJyk7XG5cdFx0XHRcblx0XHQvLyBcdGlmIChhVGFnKSBzZWxmLnNldExpbmtQcm9jZXNzKGFUYWcpO1xuXHRcdC8vIH0pXG5cdH0sXG5cdFxuXHRwYXNzUHJvY2Vzc0FjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0bGV0IGZvcm0gPSBidG4uY2xvc2VzdCgnZm9ybScpXG5cdFx0aWYgKCFmb3JtKSByZXR1cm47XG5cdFx0XG5cdFx0bGV0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcblx0XHRsZXQgdmFsdWVQYXJhbXMgPSBbXTtcblx0XHRcblx0XHRpbnB1dHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRjb25zdCBwYXNzX3ZhbHVlX3RvID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdmFsdWVfdG8nKTtcblx0XHRcdGNvbnN0IHZhbHVlID0gZWwudmFsdWU7XG5cdFx0XHRpZiAocGFzc192YWx1ZV90bykge1xuXHRcdFx0XHR2YWx1ZVBhcmFtcy5wdXNoKHtcblx0XHRcdFx0XHRwYXNzX3ZhbHVlX3RvOiBwYXNzX3ZhbHVlX3RvLFxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0aWYgKHZhbHVlUGFyYW1zLmxlbmd0aCA+IDApIHtcblx0XHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVQYXJhbXMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZVBhcmFtcykpO1xuXHRcdH1cblx0XHR0aGlzLl9faW5pdFBhc3NWYWx1ZVBhcmFtcygpXG5cdFx0Ly8gbGV0IGFUYWcgPSBidG4ucXVlcnlTZWxlY3RvcignYScpO1xuXHRcdC8vIGlmIChhVGFnKSB0aGlzLnNldExpbmtQcm9jZXNzKGFUYWcpO1xuXHRcdFxuXHRcdC8vLiBlbmQgZXZlbnRcblx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGFzc1ZhbHVlQWN0aW9uRW5kJywge1xuXHRcdFx0ZGV0YWlsOiB7fVxuXHRcdH0pKVxuXHR9LFxuXHRcblx0c2V0RGF0YVBhc3NWYWx1ZXM6IGZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdGNvbnN0IHZhbHVlUGFyYW1zID0gW11cblx0XHRmb3IgKCBsZXQga2V5IGluIHZhbHVlcykge1xuXHRcdFx0dmFsdWVQYXJhbXMucHVzaCh7XG5cdFx0XHRcdHBhc3NfdmFsdWVfdG86IGtleSxcblx0XHRcdFx0dmFsdWU6IHZhbHVlc1trZXldXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRcblx0XHRpZiAodmFsdWVQYXJhbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZVBhcmFtcycsIEpTT04uc3RyaW5naWZ5KHZhbHVlUGFyYW1zKSk7XG5cdFx0fVxuXHR9LFxuXHRcblx0aW5pdERhdGFQYXNzVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZhbHVlUGFyYW1zJyk7XHRcblx0fSxcblxuXHQvLy4gb3BlbkFub3RoZXJcblx0b3BlbkFub3RoZXI6IGZ1bmN0aW9uKGF0YWcpIHtcblxuXHRcdHZhciBocmVmID0gYXRhZy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblx0XHR2YXIgdGFyZ2V0ID0gYXRhZy5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xuXHRcdFxuXHRcdGlmICh0YXJnZXQgPT0gXCJfYmxhbmtcIikge1xuXHRcdCAgd2luZG93Lm9wZW4oaHJlZiwgXCJfYmxhbmtcIik7ICBcblx0XHR9IGVsc2UgaWYgKHRhcmdldCA9PSBcIl93aW5kb3dcIikge1xuXHRcdCAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycsICdsb2NhdGlvbj15ZXMsaGVpZ2h0PTU3MCx3aWR0aD01MjAsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPXllcycpO1xuXHRcdH0gZWxzZSB7XG5cdFx0ICB3aW5kb3cub3BlbihocmVmLCBcIl9zZWxmXCIpO1xuXHRcdH1cblx0fSxcblx0XG5cdC8vLiBjbGlja0FUYWdpbkJ1dHRvblxuXHRzZXRMaW5rUHJvY2VzczogZnVuY3Rpb24oYVRhZykge1xuXHRcdFxuXHRcdGlmKGFUYWcuaGFzQXR0cmlidXRlKCdkYXRhLWFjdGlvbnMnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBwYXNzX3RvID0gYVRhZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpO1xuXHRcdGNvbnN0IGhyZWYgPSBhVGFnLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXHRcdHRoaXMuc3RvcmVQYXNzRGF0YShhVGFnKTtcblx0XHRpZiAodGhpcy5jaGVja09wZW5Db2NyZWF0ZU1vZGFsKGFUYWcpKSB7XG5cdFx0XHRpZiAodHlwZW9mIENvQ3JlYXRlLm1vZGFsICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRDb0NyZWF0ZS5tb2RhbC5vcGVuKGFUYWcpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoaHJlZikge1xuXHRcdFx0dGhpcy5vcGVuQW5vdGhlcihhVGFnKTtcblx0XHR9IGVsc2UgaWYgKHBhc3NfdG8pIHtcblx0XHRcdHRoaXMuX19pbml0UGFzc1BhcmFtcyhwYXNzX3RvKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRjaGVja09wZW5Db2NyZWF0ZU1vZGFsOiBmdW5jdGlvbihhdGFnKSB7XG5cdCAgaWYgKGF0YWcuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSA9PT0gXCJtb2RhbFwiKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdCAgfSBcblx0ICByZXR1cm4gZmFsc2U7XG5cdH0sXG5cdFxuXHRwYXNzU3VibWl0UHJvY2VzczogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtaXRCdG4nKSkge1xuXHRcdFx0aWYgKCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJykgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSxcblx0XG5cdFxuXHRfX3NldEdldFZhbHVlUHJvY2VzczogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XG5cdFx0XG5cdFx0aWYgKCFpZCkgcmV0dXJuO1xuICBcblx0XHR2YXIgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWdldF92YWx1ZT1cIicgKyBpZCArICdcIl0nKTtcblx0XHRcblx0XHR0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuXHRcdCAgLy8gdGFyZ2V0LnZhbHVlID0gdmFsdWU7XG5cdFx0ICBpZiAodHlwZW9mKHRhcmdldC52YWx1ZSkgIT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dGFyZ2V0LnZhbHVlID0gdmFsdWU7XG5cdFx0ICB9IGVsc2UgaWYgKHR5cGVvZih0YXJnZXQudGV4dENvbnRlbnQpICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHRhcmdldC50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdCAgfVxuXHRcdCAgXG5cdFx0ICBpZiAoQ29DcmVhdGUuZmxvYXRpbmdMYWJlbCkgQ29DcmVhdGUuZmxvYXRpbmdMYWJlbC51cGRhdGUodGFyZ2V0KVxuXHRcdCAgXG5cdFx0ICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7XCJidWJibGVzXCI6dHJ1ZX0pKTsgXG5cdFx0ICBcblx0XHQgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWFyY2hJbnB1dCcpKSB7XG5cdFx0XHRsZXQgZXZ0ID0gbmV3IEtleWJvYXJkRXZlbnQoJ2tleWRvd24nLCB7J2tleUNvZGUnOiAxM30pO1xuXHRcdFx0dGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0XHQgIH1cblx0XHR9KVxuXHR9LFxuXHRcblx0X19pbml0UGFzc0l0ZW1zOiBmdW5jdGlvbihpZCwgc2VsZWN0b3IsIG5vRmV0Y2gpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRpZiAoaWQpIHtcblx0XHRcdGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdHNlbGYuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZG9jdW1lbnRfaWQnLCBpZCk7XG5cdFx0XHRcdC8vIHNlbGYuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmV0Y2hfZG9jdW1lbnRfaWQnLCBpZCk7XG5cdFx0XHRcdHNlbGYuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmlsdGVyX3ZhbHVlJywgaWQpO1xuXHRcdFx0fSlcblx0XHR9XG5cdH0sXG59XG5cblxuQ29DcmVhdGVMb2dpYy5pbml0KCk7XG5cbm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlQXR0cmlidXRlcycsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbZGF0YS1mb3JdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdENvQ3JlYXRlTG9naWMuYXR0cmlidXRlcy5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUxvZ2ljJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLXBhc3NfaWRdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdENvQ3JlYXRlTG9naWMuaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxuYWN0aW9uLmluaXQoe1xuXHRhY3Rpb246IFwicGFzc1ZhbHVlQWN0aW9uXCIsXG5cdGVuZEV2ZW50OiBcInBhc3NWYWx1ZUFjdGlvbkVuZFwiLFxuXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuXHRcdENvQ3JlYXRlTG9naWMucGFzc1Byb2Nlc3NBY3Rpb24oYnRuKVxuXHR9LFxufSlcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVMb2dpYzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-logic/src/index.js\n")}}]);