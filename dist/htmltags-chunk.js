/*! For license information please see htmltags-chunk.js.LICENSE.txt */
(this.webpackChunkCoCreate_cursors=this.webpackChunkCoCreate_cursors||[]).push([["htmltags-chunk"],{"../CoCreate-htmltags/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../CoCreate-utils/src/index.js\"));\n\nvar _crudClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud-client */ \"../CoCreate-crud-client/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateHtmlTags = {\n  selector: \"h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, span, code, head, div, div.domEditor, iframe, body, img, html\",\n  init: function () {\n    this.__initAttribute();\n\n    this.__initSocket();\n\n    this.__initEvents();\n\n    this.initElement(document);\n  },\n  initElement: function (element) {\n    // if (!element || !element.getAttribute) {\n    // \treturn;\n    // }\n    const requests = this.__getReqeust(element);\n\n    if (requests && requests.length > 0) {\n      requests.forEach(req => {\n        _crudClient.default.readDocument({\n          collection: req['collection'],\n          document_id: req['document_id'],\n          metadata: req['metadata']\n        });\n      });\n    }\n  },\n  saveContent: function (el) {\n    const collection = el.getAttribute('data-collection');\n    const document_id = el.getAttribute('data-document_id');\n    const name = el.getAttribute('name');\n    let save_value = '';\n\n    if (el.tagName === 'IFRAME') {\n      save_value = el.srcdoc;\n    } else {\n      save_value = el.innerHTML;\n    }\n\n    _crudClient.default.updateDocument({\n      collection,\n      document_id,\n      upsert: true,\n      broadcast_sender: false,\n      data: {\n        [name]: save_value\n      },\n      broadcast: false\n    });\n  },\n  save: function (el, broadcast, broadcast_sender) {\n    if (typeof el == \"object\") {\n      const event = new CustomEvent('changed-element', {});\n      el.dispatchEvent(event);\n    }\n\n    if (!el.classList.contains('domEditor')) {\n      return;\n    } // if (utils.isRealTime(el) || isSubmit) {\n\n\n    const {\n      collection,\n      document_id,\n      name\n    } = _crudClient.default.getAttr(el);\n\n    let el_broadcast = el.getAttribute('data-broadcast') || \"true\";\n    let namespace = el.getAttribute('data-namespace') || '';\n    let room = el.getAttribute('data-room') || '';\n    el_broadcast = el_broadcast === \"true\" ? true : false;\n\n    if (!broadcast) {\n      broadcast = el_broadcast;\n    }\n\n    let save_value = '';\n\n    if (el.tagName === 'IFRAME') {\n      save_value = el.srcdoc;\n    } else {\n      save_value = el.innerHTML;\n    }\n\n    _crudClient.default.updateDocument({\n      namespace,\n      room,\n      collection,\n      document_id,\n      upsert: true,\n      broadcast_sender,\n      data: {\n        [name]: save_value\n      },\n      broadcast: broadcast\n    }); // }\n\n  },\n  render: function (data, isUpdate) {\n    const tags_selector = this.__addAttributeSelectorTags(this.selector);\n\n    let elements = document.querySelectorAll(tags_selector);\n    let isRendered = false;\n    let isRenderedIframe = false;\n    const self = this;\n\n    let encodeData = _crudClient.default.encodeObject(data.data);\n\n    elements.forEach(el => {\n      const {\n        collection,\n        document_id,\n        name\n      } = _crudClient.default.getAttr(el);\n\n      const {\n        is_read,\n        is_update\n      } = _crudClient.default.getFlagAttr(el);\n\n      const metadata = data['metadata'] || {};\n      const request_id = el.getAttribute('data-request_id');\n\n      if (!is_read) {\n        return;\n      }\n\n      if (isUpdate && !is_update) {\n        return;\n      }\n\n      if (request_id && data['metadata'] && data['metadata']['request_id'] !== request_id) {\n        return;\n      }\n\n      if (data['collection'] == collection && data['document_id'] == document_id && !el.isContentEditable) {\n        // const value = self.__getValueFromJonDeep(data.data, name)\n        const value = encodeData[name];\n        if (value === null || value === undefined) return;\n\n        if (el.tagName === 'IMG') {\n          el.src = value;\n        } else if (el.tagName === 'IFRAME') {\n          el.srcdoc = value;\n          let iframe = el;\n          isRenderedIframe = true;\n\n          el.onload = function (e) {\n            iframe.removeAttribute('srcdoc');\n          };\n        } else if (el.tagName === 'DIV') {\n          if (el.hasAttribute(\"value\")) {\n            el.setAttribute(\"value\", value);\n          }\n\n          if (el.classList.contains('domEditor')) {\n            if (el.getAttribute('data-domEditor') == \"replace\") {\n              let newElement = document.createElement(\"div\");\n              newElement.innerHTML = value;\n              let parentNode = el.parentNode;\n\n              if (parentNode) {\n                if (newElement.children[0]) {\n                  parentNode.replaceChild(newElement.children[0], el);\n                } else {\n                  parentNode.replaceChild(newElement, el);\n                }\n              }\n            } else {\n              el.innerHTML = value;\n            }\n          }\n        } else {\n          el.innerHTML = value;\n\n          if (el.hasAttribute(\"value\")) {\n            el.setAttribute(\"value\", value);\n          }\n        }\n\n        if (el.tagName == 'HEAD' || el.tagName == 'BODY') {\n          el.removeAttribute('data-collection');\n          el.removeAttribute('data-document_id');\n          el.removeAttribute('data-pass_id');\n          var scripts = el.querySelectorAll('script');\n\n          for (var k = 0; k < scripts.length; k++) {\n            var tmp = document.createElement('script');\n            tmp.type = \"text/javascript\";\n            var src = scripts[k].getAttribute('src');\n            var innerHtml = scripts[k].innerHTML;\n            if (innerHtml != \"\") tmp.innerHTML = innerHtml;\n            if (src) tmp.src = src;\n            el.appendChild(tmp);\n            scripts[k].remove();\n          }\n        }\n\n        isRendered = true;\n      }\n    });\n\n    if (isRendered) {\n      //. rendered event\n      const event = new CustomEvent('CoCreateHtmlTags-rendered', {\n        eventType: 'rendered',\n        detail: {\n          data: data\n        }\n      });\n      document.dispatchEvent(event);\n    }\n\n    if (isRenderedIframe) {\n      const iframeEvent = new CustomEvent('CoCreateHtmlTags-iframe-rendered', {\n        eventType: 'rendered',\n        detail: {\n          data: data\n        }\n      });\n      document.dispatchEvent(iframeEvent);\n    }\n  },\n  __getReqeust: function (container) {\n    let fetch_container = container || document;\n\n    if (!fetch_container.querySelectorAll) {\n      return;\n    }\n\n    const tags_selector = this.__addAttributeSelectorTags(this.selector);\n\n    let elements = fetch_container.querySelectorAll(tags_selector);\n    let requestData = [];\n\n    if (elements.length == 0 && fetch_container != document && fetch_container.hasAttribute('data-document_id')) {\n      elements = [fetch_container];\n    }\n\n    elements.forEach(el => {\n      if (_observer.default.getInitialized(el, \"htmltags\")) {\n        return;\n      }\n\n      const {\n        collection,\n        document_id\n      } = _crudClient.default.getAttr(el);\n\n      const readValue = _crudClient.default.isReadAttr(el);\n\n      const request_id = el.getAttribute('data-request_id');\n\n      if (readValue && _crudClient.default.checkValue(document_id) && request_id) {\n        _observer.default.setInitialized(el, \"htmltags\");\n\n        requestData.push({\n          collection: collection,\n          document_id: document_id,\n          metadata: {\n            request_id: request_id\n          }\n        });\n        return;\n      }\n\n      if (readValue && _crudClient.default.checkValue(document_id) && !requestData.some(d => d['collection'] === collection && d['document_id'] === document_id)) {\n        requestData.push({\n          collection,\n          document_id\n        });\n      }\n    });\n    return requestData;\n  },\n  __initAttribute: function (container) {\n    const mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    const tags_selector = this.__addAttributeSelectorTags(this.selector);\n\n    let elements = mainContainer.querySelectorAll(tags_selector);\n\n    if (elements.length == 0 && mainContainer != document && mainContainer.hasAttribute('data-document_id')) {\n      elements = [mainContainer];\n    }\n\n    elements.forEach(el => {\n      const {\n        collection,\n        document_id,\n        name\n      } = _crudClient.default.getAttr(el);\n\n      if (collection && document_id && name && el.getAttribute('data-realtime') == null) {\n        el.setAttribute('data-realtime', true);\n      }\n    });\n  },\n  __initSocket: function () {\n    const self = this;\n\n    _crudClient.default.listen('updateDocument', function (data) {\n      self.render(data, true);\n    });\n\n    _crudClient.default.listen('readDocument', function (data) {\n      self.render(data);\n    }); //  socket.listen('connect', function(data) {\n    // const requests = self.__getReqeust()\n    // if (requests && requests.length > 0) {\n    // \trequests.forEach((req) => {\n    // \t\tcrud.readDocument({\n    // \t\t\tcollection: req['collection'],\n    // \t\t\tdocument_id: req['document_id']\n    // \t\t})\n    // \t})\n    // }\n    //  })\n\n  },\n  __initEvents: function () {\n    const self = this;\n    document.addEventListener('change-content', function (event) {\n      const {\n        element,\n        broadcast,\n        broadcast_sender\n      } = event.detail;\n\n      if (!element) {\n        return;\n      }\n\n      const domEl = self.findElementByChild(element);\n\n      if (domEl) {\n        self.save(domEl, broadcast, broadcast_sender);\n      }\n    });\n  },\n  __addAttributeSelectorTags: function (str_tags) {\n    let tags = str_tags.trim().split(/\\s*,\\s*/).map(function (tag) {\n      return tag + \"[data-collection][data-document_id][name]\";\n    });\n    return tags.join(\", \");\n  },\n  findElementByChild: function (element) {\n    return _utils.default.getParentFromElement(element, 'domEditor');\n  },\n  __getValueFromJonDeep: function (json, path) {\n    try {\n      if (typeof json == 'undefined') return false;\n      let subpath = path.split('.');\n      let find = subpath.shift();\n\n      if (subpath.length > 0) {\n        return this.__getValueFromJonDeep(json[find], subpath.join('.'));\n      }\n\n      return json[find];\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\nCoCreateHtmlTags.init(); // CoCreateInit.register('CoCreateHtmlTags', CoCreateHtmlTags, CoCreateHtmlTags.initElement);\n\n_observer.default.init({\n  name: 'CoCreateHtmlTags',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function (mutation) {\n    CoCreateHtmlTags.initElement(mutation.target);\n  }\n}); // if (window.parent !== window) {\n//   console.log(\"dispatch htmlTags rendered\");\n//   window.addEventListener(\"load\", () => {\n//     window.parent.dispatchEvent(new Event(\"CoCreateHtmlTags-rendered\"));\n//   });\n// }\n\n\nconsole.log(\"dispatch htmlTags rendered\");\nif (window.document.readyState != 'complete') window.addEventListener(\"load\", () => {\n  window.parent.dispatchEvent(new Event(\"CoCreateHtmlTags-rendered\"));\n});else window.parent.dispatchEvent(new Event(\"CoCreateHtmlTags-rendered\"));\nvar _default = CoCreateHtmlTags;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5jdXJzb3JzLy4uL0NvQ3JlYXRlLWh0bWx0YWdzL3NyYy9pbmRleC5qcz9hNDk2Il0sIm5hbWVzIjpbIkNvQ3JlYXRlSHRtbFRhZ3MiLCJzZWxlY3RvciIsImluaXQiLCJfX2luaXRBdHRyaWJ1dGUiLCJfX2luaXRTb2NrZXQiLCJfX2luaXRFdmVudHMiLCJpbml0RWxlbWVudCIsImRvY3VtZW50IiwiZWxlbWVudCIsInJlcXVlc3RzIiwiX19nZXRSZXFldXN0IiwibGVuZ3RoIiwiZm9yRWFjaCIsInJlcSIsImNydWQiLCJyZWFkRG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJtZXRhZGF0YSIsInNhdmVDb250ZW50IiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJuYW1lIiwic2F2ZV92YWx1ZSIsInRhZ05hbWUiLCJzcmNkb2MiLCJpbm5lckhUTUwiLCJ1cGRhdGVEb2N1bWVudCIsInVwc2VydCIsImJyb2FkY2FzdF9zZW5kZXIiLCJkYXRhIiwiYnJvYWRjYXN0Iiwic2F2ZSIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJnZXRBdHRyIiwiZWxfYnJvYWRjYXN0IiwibmFtZXNwYWNlIiwicm9vbSIsInJlbmRlciIsImlzVXBkYXRlIiwidGFnc19zZWxlY3RvciIsIl9fYWRkQXR0cmlidXRlU2VsZWN0b3JUYWdzIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNSZW5kZXJlZCIsImlzUmVuZGVyZWRJZnJhbWUiLCJzZWxmIiwiZW5jb2RlRGF0YSIsImVuY29kZU9iamVjdCIsImlzX3JlYWQiLCJpc191cGRhdGUiLCJnZXRGbGFnQXR0ciIsInJlcXVlc3RfaWQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInZhbHVlIiwidW5kZWZpbmVkIiwic3JjIiwiaWZyYW1lIiwib25sb2FkIiwiZSIsInJlbW92ZUF0dHJpYnV0ZSIsImhhc0F0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm5ld0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGFyZW50Tm9kZSIsImNoaWxkcmVuIiwicmVwbGFjZUNoaWxkIiwic2NyaXB0cyIsImsiLCJ0bXAiLCJ0eXBlIiwiaW5uZXJIdG1sIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmUiLCJldmVudFR5cGUiLCJkZXRhaWwiLCJpZnJhbWVFdmVudCIsImNvbnRhaW5lciIsImZldGNoX2NvbnRhaW5lciIsInJlcXVlc3REYXRhIiwib2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInJlYWRWYWx1ZSIsImlzUmVhZEF0dHIiLCJjaGVja1ZhbHVlIiwic2V0SW5pdGlhbGl6ZWQiLCJwdXNoIiwic29tZSIsImQiLCJtYWluQ29udGFpbmVyIiwibGlzdGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvbUVsIiwiZmluZEVsZW1lbnRCeUNoaWxkIiwic3RyX3RhZ3MiLCJ0YWdzIiwidHJpbSIsInNwbGl0IiwibWFwIiwidGFnIiwiam9pbiIsInV0aWxzIiwiZ2V0UGFyZW50RnJvbUVsZW1lbnQiLCJfX2dldFZhbHVlRnJvbUpvbkRlZXAiLCJqc29uIiwicGF0aCIsInN1YnBhdGgiLCJmaW5kIiwic2hpZnQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJvYnNlcnZlIiwiaW5jbHVkZSIsImNhbGxiYWNrIiwibXV0YXRpb24iLCJ0YXJnZXQiLCJ3aW5kb3ciLCJyZWFkeVN0YXRlIiwicGFyZW50IiwiRXZlbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLGdCQUFnQixHQUFHO0FBRXhCQyxVQUFRLEVBQUUsMEdBRmM7QUFJeEJDLE1BQUksRUFBRSxZQUFXO0FBQ2hCLFNBQUtDLGVBQUw7O0FBQ0EsU0FBS0MsWUFBTDs7QUFDQSxTQUFLQyxZQUFMOztBQUNBLFNBQUtDLFdBQUwsQ0FBaUJDLFFBQWpCO0FBQ0EsR0FUdUI7QUFXeEJELGFBQVcsRUFBRSxVQUFTRSxPQUFULEVBQWtCO0FB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QVIsQ0FBWUYsS0FBWjtBQUNBLGFBQU8sS0FBUDtBQUNBO0FBQ0Q7QUFqV3VCLENBQXpCO0FBcVdBbEgsZ0JBQWdCLENBQUNFLElBQWpCLEcsQ0FDQTs7QUFFQW1GLGtCQUFTbkYsSUFBVCxDQUFjO0FBQ2JvQixNQUFJLEVBQUUsa0JBRE87QUFFYitGLFNBQU8sRUFBRSxDQUFDLFNBQUQsRUFBWSxXQUFaLENBRkk7QUFHYkMsU0FBTyxFQUFFLDJDQUhJO0FBSWJDLFVBQVEsRUFBRSxVQUFTQyxRQUFULEVBQW1CO0FBQzVCeEgsb0JBQWdCLENBQUNNLFdBQWpCLENBQTZCa0gsUUFBUSxDQUFDQyxNQUF0QztBQUNBO0FBTlksQ0FBZCxFLENBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFJRU4sT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFDQSxJQUFJTSxNQUFNLENBQUNuSCxRQUFQLENBQWdCb0gsVUFBaEIsSUFBOEIsVUFBbEMsRUFDQUQsTUFBTSxDQUFDMUIsZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsTUFBTTtBQUNwQzBCLFFBQU0sQ0FBQ0UsTUFBUCxDQUFjekYsYUFBZCxDQUE0QixJQUFJMEYsS0FBSixDQUFVLDJCQUFWLENBQTVCO0FBQ0QsQ0FGRCxFQURBLEtBS0VILE1BQU0sQ0FBQ0UsTUFBUCxDQUFjekYsYUFBZCxDQUE0QixJQUFJMEYsS0FBSixDQUFVLDJCQUFWLENBQTVCO2VBRVc3SCxnQiIsImZpbGUiOiIuLi9Db0NyZWF0ZS1odG1sdGFncy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQgY3J1ZCBmcm9tICdAY29jcmVhdGUvY3J1ZC1jbGllbnQnXG5cblxuY29uc3QgQ29DcmVhdGVIdG1sVGFncyA9IHtcblx0XG5cdHNlbGVjdG9yOiBcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIHAsIGksIHEsIGEsIGIsIGxpLCBzcGFuLCBjb2RlLCBoZWFkLCBkaXYsIGRpdi5kb21FZGl0b3IsIGlmcmFtZSwgYm9keSwgaW1nLCBodG1sXCIsXG5cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fX2luaXRBdHRyaWJ1dGUoKVxuXHRcdHRoaXMuX19pbml0U29ja2V0KClcblx0XHR0aGlzLl9faW5pdEV2ZW50cygpXG5cdFx0dGhpcy5pbml0RWxlbWVudChkb2N1bWVudCk7XG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdC8vIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcblx0XHQvLyBcdHJldHVybjtcblx0XHQvLyB9XG5cdFx0XG5cdFx0Y29uc3QgcmVxdWVzdHMgPSB0aGlzLl9fZ2V0UmVxZXVzdChlbGVtZW50KVxuXHRcdGlmIChyZXF1ZXN0cyAmJiByZXF1ZXN0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcblx0XHRcdHJlcXVlc3RzLmZvckVhY2goKHJlcSkgPT4ge1xuXHRcdFx0XHRjcnVkLnJlYWREb2N1bWVudCh7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogcmVxWydjb2xsZWN0aW9uJ10sXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IHJlcVsnZG9jdW1lbnRfaWQnXSxcblx0XHRcdFx0XHRtZXRhZGF0YTogcmVxWydtZXRhZGF0YSddXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcblx0XG5cdHNhdmVDb250ZW50OiBmdW5jdGlvbihlbCkge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRjb25zdCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcblxuXHRcdGxldCBzYXZlX3ZhbHVlID0gJyc7XG5cdFx0XG5cdFx0aWYgKGVsLnRhZ05hbWUgPT09ICdJRlJBTUUnKSB7XG5cdFx0XHRzYXZlX3ZhbHVlID0gZWwuc3JjZG9jO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzYXZlX3ZhbHVlID0gZWwuaW5uZXJIVE1MO1xuXHRcdH1cblx0XHRcblx0XHRjcnVkLnVwZGF0ZURvY3VtZW50KHtcblx0XHRcdGNvbGxlY3Rpb24sIFxuXHRcdFx0ZG9jdW1lbnRfaWQsIFxuXHRcdFx0dXBzZXJ0OiB0cnVlLFxuXHRcdFx0YnJvYWRjYXN0X3NlbmRlcjogZmFsc2UsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFtuYW1lXTogc2F2ZV92YWx1ZVxuXHRcdFx0fSxcblx0XHRcdGJyb2FkY2FzdDogZmFsc2Vcblx0XHR9KVx0XHRcblx0fSxcblxuXHRzYXZlOiBmdW5jdGlvbihlbCwgYnJvYWRjYXN0LCBicm9hZGNhc3Rfc2VuZGVyKSB7XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiBlbCA9PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnY2hhbmdlZC1lbGVtZW50Jywge30pO1xuXHRcdFx0ZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHQgIFxuXHRcdGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb21FZGl0b3InKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cbiAgXG5cdCAgLy8gaWYgKHV0aWxzLmlzUmVhbFRpbWUoZWwpIHx8IGlzU3VibWl0KSB7XG5cdFx0Y29uc3QgeyBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSB9ID0gY3J1ZC5nZXRBdHRyKGVsKTtcblx0XHRsZXQgZWxfYnJvYWRjYXN0ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWJyb2FkY2FzdCcpIHx8IFwidHJ1ZVwiO1xuXHRcdGxldCBuYW1lc3BhY2UgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZXNwYWNlJykgfHwgJyc7XG5cdFx0bGV0IHJvb20gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm9vbScpIHx8ICcnXG5cdFxuXHRcdGVsX2Jyb2FkY2FzdCA9IChlbF9icm9hZGNhc3QgPT09IFwidHJ1ZVwiKSA/IHRydWUgOiBmYWxzZTtcblx0XHRpZiAoIWJyb2FkY2FzdCkge1xuXHRcdFx0YnJvYWRjYXN0ID0gZWxfYnJvYWRjYXN0O1xuXHRcdH1cblx0XHRcblx0XHRsZXQgc2F2ZV92YWx1ZSA9ICcnO1xuXHRcdFxuXHRcdGlmIChlbC50YWdOYW1lID09PSAnSUZSQU1FJykge1xuXHRcdFx0c2F2ZV92YWx1ZSA9IGVsLnNyY2RvYztcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2F2ZV92YWx1ZSA9IGVsLmlubmVySFRNTDtcblx0XHR9XG5cdFx0XG5cdFx0Y3J1ZC51cGRhdGVEb2N1bWVudCh7XG5cdFx0XHRuYW1lc3BhY2UsXG5cdFx0XHRyb29tLFxuXHRcdFx0Y29sbGVjdGlvbiwgXG5cdFx0XHRkb2N1bWVudF9pZCwgXG5cdFx0XHR1cHNlcnQ6IHRydWUsXG5cdFx0XHRicm9hZGNhc3Rfc2VuZGVyLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRbbmFtZV06IHNhdmVfdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRicm9hZGNhc3Q6IGJyb2FkY2FzdFxuXHRcdH0pXG5cdFx0ICAvLyB9XG5cdH0sXG5cdFxuXHRyZW5kZXI6IGZ1bmN0aW9uIChkYXRhLCBpc1VwZGF0ZSkge1xuXHRcdFxuXHRcdGNvbnN0IHRhZ3Nfc2VsZWN0b3IgPSB0aGlzLl9fYWRkQXR0cmlidXRlU2VsZWN0b3JUYWdzKHRoaXMuc2VsZWN0b3IpXG5cdFx0bGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YWdzX3NlbGVjdG9yKVxuXHRcdFxuXHRcdGxldCBpc1JlbmRlcmVkID0gZmFsc2U7XG5cdFx0bGV0IGlzUmVuZGVyZWRJZnJhbWUgPSBmYWxzZTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRsZXQgZW5jb2RlRGF0YSA9IGNydWQuZW5jb2RlT2JqZWN0KGRhdGEuZGF0YSk7XG5cdFx0XG5cdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdGNvbnN0IHsgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUgfSA9IGNydWQuZ2V0QXR0cihlbCk7XG5cdFx0XHRjb25zdCB7IGlzX3JlYWQsIGlzX3VwZGF0ZSB9ID0gY3J1ZC5nZXRGbGFnQXR0cihlbCk7XG5cdFx0XHRjb25zdCBtZXRhZGF0YSA9IGRhdGFbJ21ldGFkYXRhJ10gfHwge307XG5cdFx0XHRjb25zdCByZXF1ZXN0X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVlc3RfaWQnKVxuXHRcdFx0XG5cdFx0XHRpZiAoIWlzX3JlYWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaXNVcGRhdGUgJiYgIWlzX3VwZGF0ZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChyZXF1ZXN0X2lkICYmIGRhdGFbJ21ldGFkYXRhJ10gJiYgZGF0YVsnbWV0YWRhdGEnXVsncmVxdWVzdF9pZCddICE9PSByZXF1ZXN0X2lkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRhdGFbJ2NvbGxlY3Rpb24nXSA9PSBjb2xsZWN0aW9uICYmIGRhdGFbJ2RvY3VtZW50X2lkJ10gPT0gZG9jdW1lbnRfaWQgJiYgIWVsLmlzQ29udGVudEVkaXRhYmxlKSB7XG5cdFx0XHRcdC8vIGNvbnN0IHZhbHVlID0gc2VsZi5fX2dldFZhbHVlRnJvbUpvbkRlZXAoZGF0YS5kYXRhLCBuYW1lKVxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGVuY29kZURhdGFbbmFtZV1cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChlbC50YWdOYW1lID09PSAnSU1HJykge1xuXHRcdFx0XHRcdGVsLnNyYyA9IHZhbHVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsLnRhZ05hbWUgPT09ICdJRlJBTUUnKSB7XG5cdFx0XHRcdFx0ZWwuc3JjZG9jID0gdmFsdWU7XG5cdFx0XHRcdFx0bGV0IGlmcmFtZSA9IGVsO1xuXHRcdFx0XHRcdGlzUmVuZGVyZWRJZnJhbWUgPSB0cnVlXG5cdFx0XHRcdFx0ZWwub25sb2FkID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0aWZyYW1lLnJlbW92ZUF0dHJpYnV0ZSgnc3JjZG9jJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9IGVsc2UgaWYgKGVsLnRhZ05hbWUgPT09ICdESVYnKSB7XG5cdFx0XHRcdFx0aWYgKCBlbC5oYXNBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSApIHtcblx0XHRcdFx0XHRcdGVsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHZhbHVlKTtcdFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb21FZGl0b3InKSApIHtcblx0XHRcdFx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9tRWRpdG9yJykgPT0gXCJyZXBsYWNlXCIpIHtcblx0XHRcdFx0XHRcdFx0bGV0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0XHRcdFx0XHRuZXdFbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRsZXQgcGFyZW50Tm9kZSA9IGVsLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0XHRcdGlmIChwYXJlbnROb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5ld0VsZW1lbnQuY2hpbGRyZW5bMF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0VsZW1lbnQuY2hpbGRyZW5bMF0sIGVsKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0cGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3RWxlbWVudCwgZWwpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZWwuaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggZWwuaGFzQXR0cmlidXRlKFwidmFsdWVcIikgKSB7XG5cdFx0XHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCB2YWx1ZSk7XHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0aWYgKGVsLnRhZ05hbWUgPT0nSEVBRCcgfHwgZWwudGFnTmFtZSA9PSAnQk9EWScpIHtcblx0XHRcdFx0XHRlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xuXHRcdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJyk7XG5cblx0XHRcdFx0XHR2YXIgc2NyaXB0cyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpO1xuXHRcdFx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgc2NyaXB0cy5sZW5ndGg7IGsgKyspIHtcblx0XHRcdFx0XHRcdHZhciB0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0XHRcdFx0XHRcdHRtcC50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7XG5cdFx0XHRcdFx0XHR2YXIgc3JjID0gc2NyaXB0c1trXS5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuXHRcdFx0XHRcdFx0dmFyIGlubmVySHRtbCA9IHNjcmlwdHNba10uaW5uZXJIVE1MO1xuXHRcdFx0XHRcdFx0aWYgKGlubmVySHRtbCAhPSBcIlwiKSB0bXAuaW5uZXJIVE1MID0gaW5uZXJIdG1sO1xuXHRcdFx0XHRcdFx0aWYgKHNyYykgdG1wLnNyYyA9IHNyYztcblx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKHRtcCk7XG5cdFx0XHRcblx0XHRcdFx0XHRcdHNjcmlwdHNba10ucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRcblx0XHRcdFx0aXNSZW5kZXJlZCA9IHRydWVcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGlmIChpc1JlbmRlcmVkKSB7XG5cdFx0XHQvLy4gcmVuZGVyZWQgZXZlbnRcblx0XHRcdGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUh0bWxUYWdzLXJlbmRlcmVkJywge1xuXHRcdFx0XHRldmVudFR5cGU6ICdyZW5kZXJlZCcsXG5cdFx0XHRcdGRldGFpbDoge1xuXHRcdFx0XHRcdGRhdGE6IGRhdGFcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudClcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGlzUmVuZGVyZWRJZnJhbWUpIHtcblx0XHRcdGNvbnN0IGlmcmFtZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUh0bWxUYWdzLWlmcmFtZS1yZW5kZXJlZCcsIHtcblx0XHRcdFx0ZXZlbnRUeXBlOiAncmVuZGVyZWQnLFxuXHRcdFx0XHRkZXRhaWw6IHtcblx0XHRcdFx0XHRkYXRhOiBkYXRhXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGlmcmFtZUV2ZW50KVxuXHRcdH1cblx0fSxcblxuXHRfX2dldFJlcWV1c3Q6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdFxuXHRcdGxldCBmZXRjaF9jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIWZldGNoX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IHRhZ3Nfc2VsZWN0b3IgPSB0aGlzLl9fYWRkQXR0cmlidXRlU2VsZWN0b3JUYWdzKHRoaXMuc2VsZWN0b3IpXG5cdFx0bGV0IGVsZW1lbnRzID0gZmV0Y2hfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwodGFnc19zZWxlY3Rvcilcblx0XHRsZXQgcmVxdWVzdERhdGEgPSBbXTtcblx0XHRcblx0XHRpZiAoZWxlbWVudHMubGVuZ3RoID09IDAgJiYgZmV0Y2hfY29udGFpbmVyICE9IGRvY3VtZW50ICYmIGZldGNoX2NvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSkge1xuXHRcdFx0ZWxlbWVudHMgPSBbZmV0Y2hfY29udGFpbmVyXTtcblx0XHR9XG5cblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0aWYgKG9ic2VydmVyLmdldEluaXRpYWxpemVkKGVsLCBcImh0bWx0YWdzXCIpKSB7XG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fSBcblx0XHRcdGNvbnN0IHsgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQgfSA9IGNydWQuZ2V0QXR0cihlbClcblx0XHRcdGNvbnN0IHJlYWRWYWx1ZSA9IGNydWQuaXNSZWFkQXR0cihlbCk7XG5cdFx0XHRjb25zdCByZXF1ZXN0X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVlc3RfaWQnKVxuXHRcdFx0XG5cdFx0XHRpZiAocmVhZFZhbHVlICYmIGNydWQuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkgICYmIHJlcXVlc3RfaWQpIHtcblx0XHRcdFx0b2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoZWwsIFwiaHRtbHRhZ3NcIik7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXF1ZXN0RGF0YS5wdXNoKHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdGRvY3VtZW50X2lkOiBkb2N1bWVudF9pZCxcblx0XHRcdFx0XHRtZXRhZGF0YToge1xuXHRcdFx0XHRcdFx0cmVxdWVzdF9pZDogcmVxdWVzdF9pZFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRcblx0XHRcdGlmIChyZWFkVmFsdWUgJiYgY3J1ZC5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSAmJiAhcmVxdWVzdERhdGEuc29tZSgoZCkgPT4gZFsnY29sbGVjdGlvbiddID09PSBjb2xsZWN0aW9uICYmIGRbJ2RvY3VtZW50X2lkJ10gPT09IGRvY3VtZW50X2lkKSkge1xuXHRcdFx0XHRyZXF1ZXN0RGF0YS5wdXNoKHsgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQgfSlcblx0XHRcdH1cblx0XHR9KVxuXHRcdHJldHVybiByZXF1ZXN0RGF0YTtcblx0fSxcblx0XHRcblx0XHRcblx0X19pbml0QXR0cmlidXRlOiBmdW5jdGlvbihjb250YWluZXIpIHtcblxuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzX3NlbGVjdG9yID0gdGhpcy5fX2FkZEF0dHJpYnV0ZVNlbGVjdG9yVGFncyh0aGlzLnNlbGVjdG9yKVxuXG5cdFx0bGV0IGVsZW1lbnRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHRhZ3Nfc2VsZWN0b3IpXG5cdFx0XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwICYmIG1haW5Db250YWluZXIgIT0gZG9jdW1lbnQgJiYgbWFpbkNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSkge1xuXHRcdFx0ZWxlbWVudHMgPSBbbWFpbkNvbnRhaW5lcl1cblx0XHR9XHRcdFxuXHRcdFxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRjb25zdCB7IGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lIH0gPSBjcnVkLmdldEF0dHIoZWwpXG5cblx0XHRcdGlmIChjb2xsZWN0aW9uICYmIGRvY3VtZW50X2lkICYmIG5hbWUgJiYgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJykgPT0gbnVsbCkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnLCB0cnVlKVxuXHRcdFx0fVxuXHRcdH0pXG5cdH0sXG5cdFxuXHRfX2luaXRTb2NrZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNydWQubGlzdGVuKCd1cGRhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgIFx0c2VsZi5yZW5kZXIoZGF0YSwgdHJ1ZSlcblx0ICAgIH0pXG5cdCAgICBjcnVkLmxpc3RlbigncmVhZERvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgXHRzZWxmLnJlbmRlcihkYXRhKVxuXHQgICAgfSlcblx0ICAgIFxuXHQgIC8vICBzb2NrZXQubGlzdGVuKCdjb25uZWN0JywgZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Ly8gY29uc3QgcmVxdWVzdHMgPSBzZWxmLl9fZ2V0UmVxZXVzdCgpXG5cdFx0XHQvLyBpZiAocmVxdWVzdHMgJiYgcmVxdWVzdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly8gXHRyZXF1ZXN0cy5mb3JFYWNoKChyZXEpID0+IHtcblx0XHRcdC8vIFx0XHRjcnVkLnJlYWREb2N1bWVudCh7XG5cdFx0XHQvLyBcdFx0XHRjb2xsZWN0aW9uOiByZXFbJ2NvbGxlY3Rpb24nXSxcblx0XHRcdC8vIFx0XHRcdGRvY3VtZW50X2lkOiByZXFbJ2RvY3VtZW50X2lkJ11cblx0XHRcdC8vIFx0XHR9KVxuXHRcdFx0Ly8gXHR9KVxuXHRcdFx0Ly8gfVxuXHQgIC8vICB9KVxuXHR9LFxuXHRcblx0X19pbml0RXZlbnRzOiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UtY29udGVudCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRjb25zdCB7ZWxlbWVudCwgYnJvYWRjYXN0LCBicm9hZGNhc3Rfc2VuZGVyfSA9IGV2ZW50LmRldGFpbDtcblx0XHRcdGlmICghZWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGRvbUVsID0gc2VsZi5maW5kRWxlbWVudEJ5Q2hpbGQoZWxlbWVudClcblx0XHRcdGlmIChkb21FbCkge1xuXHRcdFx0XHRzZWxmLnNhdmUoZG9tRWwsIGJyb2FkY2FzdCwgYnJvYWRjYXN0X3NlbmRlcilcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0pXHRcblx0fSxcblx0XG5cdF9fYWRkQXR0cmlidXRlU2VsZWN0b3JUYWdzOiBmdW5jdGlvbihzdHJfdGFncykge1xuXHRcdGxldCB0YWdzID0gc3RyX3RhZ3MudHJpbSgpLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoZnVuY3Rpb24odGFnKSB7XG5cdFx0XHRyZXR1cm4gdGFnICsgXCJbZGF0YS1jb2xsZWN0aW9uXVtkYXRhLWRvY3VtZW50X2lkXVtuYW1lXVwiO1xuXHRcdH0pO1xuXHRcdHJldHVybiB0YWdzLmpvaW4oXCIsIFwiKTtcblx0fSxcblx0XG5cdGZpbmRFbGVtZW50QnlDaGlsZDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdHJldHVybiB1dGlscy5nZXRQYXJlbnRGcm9tRWxlbWVudChlbGVtZW50LCAnZG9tRWRpdG9yJyk7XG5cdH0sXG5cdFxuXHRfX2dldFZhbHVlRnJvbUpvbkRlZXAgOiBmdW5jdGlvbihqc29uLCBwYXRoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmKHR5cGVvZiBqc29uID09ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRsZXQgc3VicGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcblx0XHRcdGxldCBmaW5kID0gc3VicGF0aC5zaGlmdCgpO1xuXHRcdFx0aWYgKHN1YnBhdGgubGVuZ3RoID4gMCl7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9fZ2V0VmFsdWVGcm9tSm9uRGVlcChqc29uW2ZpbmRdLCBzdWJwYXRoLmpvaW4oJy4nKSlcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uW2ZpbmRdO1xuXHRcdH1jYXRjaChlcnJvcil7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcilcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sXG5cdFxufVxuXG5Db0NyZWF0ZUh0bWxUYWdzLmluaXQoKTtcbi8vIENvQ3JlYXRlSW5pdC5yZWdpc3RlcignQ29DcmVhdGVIdG1sVGFncycsIENvQ3JlYXRlSHRtbFRhZ3MsIENvQ3JlYXRlSHRtbFRhZ3MuaW5pdEVsZW1lbnQpO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUh0bWxUYWdzJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWNvbGxlY3Rpb25dW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdENvQ3JlYXRlSHRtbFRhZ3MuaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KVxuXG4vLyBpZiAod2luZG93LnBhcmVudCAhPT0gd2luZG93KSB7XG4vLyAgIGNvbnNvbGUubG9nKFwiZGlzcGF0Y2ggaHRtbFRhZ3MgcmVuZGVyZWRcIik7XG4vLyAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4vLyAgICAgd2luZG93LnBhcmVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIkNvQ3JlYXRlSHRtbFRhZ3MtcmVuZGVyZWRcIikpO1xuLy8gICB9KTtcbi8vIH1cblxuXG5cbiAgY29uc29sZS5sb2coXCJkaXNwYXRjaCBodG1sVGFncyByZW5kZXJlZFwiKTtcbiAgaWYoIHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlICE9ICdjb21wbGV0ZScpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgd2luZG93LnBhcmVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIkNvQ3JlYXRlSHRtbFRhZ3MtcmVuZGVyZWRcIikpO1xuICB9KTtcbiAgZWxzZVxuICAgIHdpbmRvdy5wYXJlbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJDb0NyZWF0ZUh0bWxUYWdzLXJlbmRlcmVkXCIpKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVIdG1sVGFnczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-htmltags/src/index.js\n")}}]);